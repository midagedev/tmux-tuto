{
  ", { replace: true });\n        }\n    }, [firstMissionPassedAt, navigate, startedAt]);\n    useEffect(() => {\n        loadAppContent()\n            .then((loaded) => setContent(loaded))\n            .catch(() => setContent(null));\n    }, []);\n    useEffect(() => {\n        if (firstMissionPassedAt && !completedAt) {\n            completeOnboarding();\n        }\n    }, [completeOnboarding, completedAt, firstMissionPassedAt]);\n    const recommendation = useMemo(() => getRecommendationByGoal(goal), [goal]);\n    const recommendedTrackTitle = content?.tracks.find((track) => track.slug === recommendation.trackSlug)?.title ??\n        recommendation.trackSlug;\n    const recommendedPlaybookTitle = content?.playbooks.find((playbook) => playbook.slug === recommendation.playbookSlug)?.title ??\n        recommendation.playbookSlug;\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uC628\\uBCF4\\uB529 \\uC644\\uB8CC\")} description={__tx(\"\\uCCAB \\uC2E4\\uC2B5\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC9C0\\uAE08 \\uBC14\\uB85C \\uC624\\uB298 \\uD560 1\\uAC1C \\uBBF8\\uC158\\uC744 \\uC2DC\\uC791\\uD558\\uC138\\uC694.\")}>\n      <div className=\"onboarding-layout\">\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uC124\\uC815 \\uC694\\uC57D\")}</h2>\n          <ul className=\"link-list\">\n            <li>목표: {goal ? getGoalLabel(goal) : __tx(\"\\uC5C5\\uBB34\\uC6A9 \\uAE30\\uCD08 \\uBE68\\uB9AC \\uC775\\uD788\\uAE30\")}</li>\n            <li>Prefix: {prefixKey}</li>\n            <li>키보드: {keyboardLayout ===": ", { replace: true });\n        }\n    }, [firstMissionPassedAt, navigate, startedAt]);\n    useEffect(() => {\n        loadAppContent()\n            .then((loaded) => setContent(loaded))\n            .catch(() => setContent(null));\n    }, []);\n    useEffect(() => {\n        if (firstMissionPassedAt && !completedAt) {\n            completeOnboarding();\n        }\n    }, [completeOnboarding, completedAt, firstMissionPassedAt]);\n    const recommendation = useMemo(() => getRecommendationByGoal(goal), [goal]);\n    const recommendedTrackTitle = content?.tracks.find((track) => track.slug === recommendation.trackSlug)?.title ??\n        recommendation.trackSlug;\n    const recommendedPlaybookTitle = content?.playbooks.find((playbook) => playbook.slug === recommendation.playbookSlug)?.title ??\n        recommendation.playbookSlug;\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uC628\\uBCF4\\uB529 \\uC644\\uB8CC\")} description={__tx(\"\\uCCAB \\uC2E4\\uC2B5\\uC774 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC9C0\\uAE08 \\uBC14\\uB85C \\uC624\\uB298 \\uD560 1\\uAC1C \\uBBF8\\uC158\\uC744 \\uC2DC\\uC791\\uD558\\uC138\\uC694.\")}>\n      <div className=\"onboarding-layout\">\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uC124\\uC815 \\uC694\\uC57D\")}</h2>\n          <ul className=\"link-list\">\n            <li>목표: {goal ? getGoalLabel(goal) : __tx(\"\\uC5C5\\uBB34\\uC6A9 \\uAE30\\uCD08 \\uBE68\\uB9AC \\uC775\\uD788\\uAE30\")}</li>\n            <li>Prefix: {prefixKey}</li>\n            <li>키보드: {keyboardLayout ===",
  ";\n                    const lesson = lessonBySlug.get(lessonSlug);\n                    return (<li key={session.id}>\n                          <strong>{mission?.title ?? session.missionSlug}</strong>\n                          <p className=\"muted\">\n                            완료: {formatSessionDateTime(session.completedAt)} · XP +\n                            {session.gainedXp ?? 0}\n                          </p>\n                          <p className=\"muted\">{lesson?.title ?? lessonSlug}</p>\n                        </li>);\n                })}\n                  </ul>)}\n              </article>\n            </div>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"\\uD2B8\\uB799 \\uC9C4\\uD589\\uB960\")}</h2>\n            <ul className=\"link-list\">\n              {trackProgress.map((track) => (<li key={track.trackSlug}>\n                  <strong>{track.trackTitle}</strong> - {track.completedCount}/{track.totalCount} ({track.ratio}%)\n                </li>))}\n            </ul>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"Core \\uC5C5\\uC801\")}</h2>\n            <p className=\"muted\">\n              {unlockedCoreAchievements.length}/{coreAchievementRows.length} 달성\n            </p>\n            <div className=\"achievement-grid\">\n              {coreAchievementRows.map((achievement) => (<article key={achievement.id} className={`achievement-card ${achievement.unlocked ?": ";\n                    const lesson = lessonBySlug.get(lessonSlug);\n                    return (<li key={session.id}>\n                          <strong>{mission?.title ?? session.missionSlug}</strong>\n                          <p className=\"muted\">\n                            완료: {formatSessionDateTime(session.completedAt)} · XP +\n                            {session.gainedXp ?? 0}\n                          </p>\n                          <p className=\"muted\">{lesson?.title ?? lessonSlug}</p>\n                        </li>);\n                })}\n                  </ul>)}\n              </article>\n            </div>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"\\uD2B8\\uB799 \\uC9C4\\uD589\\uB960\")}</h2>\n            <ul className=\"link-list\">\n              {trackProgress.map((track) => (<li key={track.trackSlug}>\n                  <strong>{track.trackTitle}</strong> - {track.completedCount}/{track.totalCount} ({track.ratio}%)\n                </li>))}\n            </ul>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"Core \\uC5C5\\uC801\")}</h2>\n            <p className=\"muted\">\n              {unlockedCoreAchievements.length}/{coreAchievementRows.length} 달성\n            </p>\n            <div className=\"achievement-grid\">\n              {coreAchievementRows.map((achievement) => (<article key={achievement.id} className={`achievement-card ${achievement.unlocked ?",
  ";\n                    const lesson = lessonBySlug.get(lessonSlug);\n                    return (<li key={session.id}>\n                          <strong>{mission?.title ?? session.missionSlug}</strong>\n                          <p className=\"muted\">시작: {formatSessionDateTime(session.startedAt)}</p>\n                          <p className=\"muted\">{lesson?.title ?? lessonSlug}</p>\n                          {lessonSlug ? (<Link className=\"secondary-btn\" to={`/practice?lesson=${lessonSlug}&mission=${session.missionSlug}`}>\n                              이어서 실습\n                            </Link>) : null}\n                        </li>);\n                })}\n                  </ul>)}\n              </article>\n              <article>\n                <h3>{__tx(\"\\uCD5C\\uADFC \\uC644\\uB8CC \\uC138\\uC158\")}</h3>\n                {recentCompletedSessions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uC644\\uB8CC\\uD55C \\uC138\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<ul className=\"link-list\">\n                    {recentCompletedSessions.map((session) => {\n                    const mission = missionBySlug.get(session.missionSlug);\n                    const lessonSlug = session.lessonSlug ?? mission?.lessonSlug ??": ";\n                    const lesson = lessonBySlug.get(lessonSlug);\n                    return (<li key={session.id}>\n                          <strong>{mission?.title ?? session.missionSlug}</strong>\n                          <p className=\"muted\">시작: {formatSessionDateTime(session.startedAt)}</p>\n                          <p className=\"muted\">{lesson?.title ?? lessonSlug}</p>\n                          {lessonSlug ? (<Link className=\"secondary-btn\" to={`/practice?lesson=${lessonSlug}&mission=${session.missionSlug}`}>\n                              이어서 실습\n                            </Link>) : null}\n                        </li>);\n                })}\n                  </ul>)}\n              </article>\n              <article>\n                <h3>{__tx(\"\\uCD5C\\uADFC \\uC644\\uB8CC \\uC138\\uC158\")}</h3>\n                {recentCompletedSessions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uC644\\uB8CC\\uD55C \\uC138\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<ul className=\"link-list\">\n                    {recentCompletedSessions.map((session) => {\n                    const mission = missionBySlug.get(session.missionSlug);\n                    const lessonSlug = session.lessonSlug ?? mission?.lessonSlug ??",
  ";\n        accumulator[category] = [...(accumulator[category] ?? []), playbook];\n        return accumulator;\n    }, {});\n}\nexport function PlaybookIndexPage() {\n    const [playbooks, setPlaybooks] = useState<AppPlaybook[]>([]);\n    useEffect(() => {\n        loadAppContent()\n            .then((content) => setPlaybooks(content.playbooks))\n            .catch(() => setPlaybooks([]));\n    }, []);\n    const groupedPlaybooks = useMemo(() => buildGroupedPlaybooks(playbooks), [playbooks]);\n    const categories = useMemo(() => Object.keys(groupedPlaybooks).sort(), [groupedPlaybooks]);\n    return (<PagePlaceholder eyebrow=\"Playbooks\" title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\")} description={__tx(\"\\uB808\\uD37C\\uB7F0\\uC2A4 \\uD5C8\\uBE0C\\uC5D0\\uC11C \\uCC3E\\uC740 \\uD56D\\uBAA9\\uC744 \\uC2E4\\uC81C \\uC6B4\\uC601 \\uC808\\uCC28\\uB85C \\uC774\\uC5B4\\uC8FC\\uB294 \\uB2E8\\uACC4\\uD615 \\uD50C\\uB808\\uC774\\uBD81 \\uBAA8\\uC74C\\uC785\\uB2C8\\uB2E4.\")}>\n      <section className=\"home-stage-grid\">\n        <article className=\"home-stage-card\">\n          <h2>{__tx(\"\\uAD8C\\uC7A5 \\uC0AC\\uC6A9 \\uD750\\uB984\")}</h2>\n          <p>{__tx(\"1) \\uB808\\uD37C\\uB7F0\\uC2A4 \\uD5C8\\uBE0C\\uC5D0\\uC11C \\uBA85\\uB839/\\uB2E8\\uCD95\\uD0A4 \\uAC80\\uC0C9\")}</p>\n          <p>{__tx(\"2) \\uAD00\\uB828 \\uD50C\\uB808\\uC774\\uBD81\\uC73C\\uB85C \\uC6B4\\uC601 \\uC808\\uCC28 \\uD655\\uC778\")}</p>\n          <p>{__tx(\"3) \\uC2E4\\uC2B5 \\uC6CC\\uD06C\\uBCA4\\uCE58\\uC5D0\\uC11C \\uBC14\\uB85C \\uAC80\\uC99D\")}</p>\n          <div className=\"inline-actions\">\n            <Link to=\"/cheatsheet\" className=\"secondary-btn\">\n              레퍼런스 허브로 이동\n            </Link>\n            <Link to=\"/practice?lesson=hello-tmux\" className=\"secondary-btn\">\n              실습 바로 열기\n            </Link>\n          </div>\n        </article>\n      </section>\n\n      {playbooks.length === 0 ? (<EmptyState title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"reference-playbook-groups\">\n          {categories.map((category) => (<section key={category} className=\"reference-section\">\n              <h2>{category}</h2>\n              <div className=\"reference-playbook-grid\">\n                {(groupedPlaybooks[category] ?? []).map((playbook) => (<article key={playbook.slug} className=\"reference-playbook-card\">\n                    <h3>{playbook.title}</h3>\n                    <p className=\"muted\">\n                      {playbook.estimatedMinutes}분 · 단계 {playbook.steps.length}개\n                    </p>\n                    <p className=\"muted\">선행 지식: {playbook.prerequisites.join(": ";\n        accumulator[category] = [...(accumulator[category] ?? []), playbook];\n        return accumulator;\n    }, {});\n}\nexport function PlaybookIndexPage() {\n    const [playbooks, setPlaybooks] = useState<AppPlaybook[]>([]);\n    useEffect(() => {\n        loadAppContent()\n            .then((content) => setPlaybooks(content.playbooks))\n            .catch(() => setPlaybooks([]));\n    }, []);\n    const groupedPlaybooks = useMemo(() => buildGroupedPlaybooks(playbooks), [playbooks]);\n    const categories = useMemo(() => Object.keys(groupedPlaybooks).sort(), [groupedPlaybooks]);\n    return (<PagePlaceholder eyebrow=\"Playbooks\" title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\")} description={__tx(\"\\uB808\\uD37C\\uB7F0\\uC2A4 \\uD5C8\\uBE0C\\uC5D0\\uC11C \\uCC3E\\uC740 \\uD56D\\uBAA9\\uC744 \\uC2E4\\uC81C \\uC6B4\\uC601 \\uC808\\uCC28\\uB85C \\uC774\\uC5B4\\uC8FC\\uB294 \\uB2E8\\uACC4\\uD615 \\uD50C\\uB808\\uC774\\uBD81 \\uBAA8\\uC74C\\uC785\\uB2C8\\uB2E4.\")}>\n      <section className=\"home-stage-grid\">\n        <article className=\"home-stage-card\">\n          <h2>{__tx(\"\\uAD8C\\uC7A5 \\uC0AC\\uC6A9 \\uD750\\uB984\")}</h2>\n          <p>{__tx(\"1) \\uB808\\uD37C\\uB7F0\\uC2A4 \\uD5C8\\uBE0C\\uC5D0\\uC11C \\uBA85\\uB839/\\uB2E8\\uCD95\\uD0A4 \\uAC80\\uC0C9\")}</p>\n          <p>{__tx(\"2) \\uAD00\\uB828 \\uD50C\\uB808\\uC774\\uBD81\\uC73C\\uB85C \\uC6B4\\uC601 \\uC808\\uCC28 \\uD655\\uC778\")}</p>\n          <p>{__tx(\"3) \\uC2E4\\uC2B5 \\uC6CC\\uD06C\\uBCA4\\uCE58\\uC5D0\\uC11C \\uBC14\\uB85C \\uAC80\\uC99D\")}</p>\n          <div className=\"inline-actions\">\n            <Link to=\"/cheatsheet\" className=\"secondary-btn\">\n              레퍼런스 허브로 이동\n            </Link>\n            <Link to=\"/practice?lesson=hello-tmux\" className=\"secondary-btn\">\n              실습 바로 열기\n            </Link>\n          </div>\n        </article>\n      </section>\n\n      {playbooks.length === 0 ? (<EmptyState title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"reference-playbook-groups\">\n          {categories.map((category) => (<section key={category} className=\"reference-section\">\n              <h2>{category}</h2>\n              <div className=\"reference-playbook-grid\">\n                {(groupedPlaybooks[category] ?? []).map((playbook) => (<article key={playbook.slug} className=\"reference-playbook-card\">\n                    <h3>{playbook.title}</h3>\n                    <p className=\"muted\">\n                      {playbook.estimatedMinutes}분 · 단계 {playbook.steps.length}개\n                    </p>\n                    <p className=\"muted\">선행 지식: {playbook.prerequisites.join(",
  ";\n    }\n    return null;\n}\nexport function BookmarksPage() {\n    const [title, setTitle] = useState('');\n    const [targetId, setTargetId] = useState('');\n    const [type, setType] = useState<'lesson' | 'mission' | 'cheatsheet_item' | 'action_pattern' | 'playbook' | 'snapshot'>('lesson');\n    const [tagsInput, setTagsInput] = useState('');\n    const [tagFilter, setTagFilter] = useState('');\n    const [sortOrder, setSortOrder] = useState<'newest' | 'oldest'>('newest');\n    const bookmarks = useBookmarkStore((store) => store.bookmarks);\n    const notesByBookmarkId = useBookmarkStore((store) => store.notesByBookmarkId);\n    const loading = useBookmarkStore((store) => store.loading);\n    const loadBookmarks = useBookmarkStore((store) => store.loadBookmarks);\n    const createBookmark = useBookmarkStore((store) => store.createBookmark);\n    const deleteBookmark = useBookmarkStore((store) => store.deleteBookmark);\n    const saveBookmarkNote = useBookmarkStore((store) => store.saveBookmarkNote);\n    useEffect(() => {\n        void loadBookmarks();\n    }, [loadBookmarks]);\n    const filteredBookmarks = useMemo(() => {\n        const normalizedTag = tagFilter.trim().toLowerCase();\n        const base = normalizedTag\n            ? bookmarks.filter((bookmark) => bookmark.tags.some((tag) => tag.toLowerCase().includes(normalizedTag)))\n            : bookmarks;\n        return [...base].sort((a, b) => sortOrder === 'newest'\n            ? b.createdAt.localeCompare(a.createdAt)\n            : a.createdAt.localeCompare(b.createdAt));\n    }, [bookmarks, tagFilter, sortOrder]);\n    const bookmarkTypeCount = useMemo(() => {\n        return bookmarks.reduce<Record<string, number>>((accumulator, bookmark) => {\n            accumulator[bookmark.type] = (accumulator[bookmark.type] ?? 0) + 1;\n            return accumulator;\n        }, {});\n    }, [bookmarks]);\n    const topTags = useMemo(() => {\n        const tagCountMap = bookmarks.reduce<Record<string, number>>((accumulator, bookmark) => {\n            bookmark.tags.forEach((tag) => {\n                accumulator[tag] = (accumulator[tag] ?? 0) + 1;\n            });\n            return accumulator;\n        }, {});\n        return Object.entries(tagCountMap)\n            .sort((left, right) => right[1] - left[1])\n            .slice(0, 5);\n    }, [bookmarks]);\n    return (<PagePlaceholder eyebrow=\"Bookmarks\" title={__tx(\"\\uBD81\\uB9C8\\uD06C \\uC6B4\\uC601 \\uD5C8\\uBE0C\")} description={__tx(\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uB2E8\\uC21C \\uC800\\uC7A5\\uC18C\\uAC00 \\uC544\\uB2C8\\uB77C \\uC7AC\\uC2E4\\uC2B5 \\uD050\\uB85C \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC815\\uB9AC\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n      <section className=\"bookmark-dashboard\">\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uC800\\uC7A5 \\uD56D\\uBAA9\")}</h2>\n          <p>\n            <strong>{bookmarks.length}</strong>개\n          </p>\n        </article>\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uD604\\uC7AC \\uD544\\uD130 \\uACB0\\uACFC\")}</h2>\n          <p>\n            <strong>{filteredBookmarks.length}</strong>개\n          </p>\n        </article>\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uD0C0\\uC785 \\uBD84\\uD3EC\")}</h2>\n          <p className=\"muted\">\n            {Object.entries(bookmarkTypeCount)\n            .map(([bookmarkType, count]) =>": ";\n    }\n    return null;\n}\nexport function BookmarksPage() {\n    const [title, setTitle] = useState('');\n    const [targetId, setTargetId] = useState('');\n    const [type, setType] = useState<'lesson' | 'mission' | 'cheatsheet_item' | 'action_pattern' | 'playbook' | 'snapshot'>('lesson');\n    const [tagsInput, setTagsInput] = useState('');\n    const [tagFilter, setTagFilter] = useState('');\n    const [sortOrder, setSortOrder] = useState<'newest' | 'oldest'>('newest');\n    const bookmarks = useBookmarkStore((store) => store.bookmarks);\n    const notesByBookmarkId = useBookmarkStore((store) => store.notesByBookmarkId);\n    const loading = useBookmarkStore((store) => store.loading);\n    const loadBookmarks = useBookmarkStore((store) => store.loadBookmarks);\n    const createBookmark = useBookmarkStore((store) => store.createBookmark);\n    const deleteBookmark = useBookmarkStore((store) => store.deleteBookmark);\n    const saveBookmarkNote = useBookmarkStore((store) => store.saveBookmarkNote);\n    useEffect(() => {\n        void loadBookmarks();\n    }, [loadBookmarks]);\n    const filteredBookmarks = useMemo(() => {\n        const normalizedTag = tagFilter.trim().toLowerCase();\n        const base = normalizedTag\n            ? bookmarks.filter((bookmark) => bookmark.tags.some((tag) => tag.toLowerCase().includes(normalizedTag)))\n            : bookmarks;\n        return [...base].sort((a, b) => sortOrder === 'newest'\n            ? b.createdAt.localeCompare(a.createdAt)\n            : a.createdAt.localeCompare(b.createdAt));\n    }, [bookmarks, tagFilter, sortOrder]);\n    const bookmarkTypeCount = useMemo(() => {\n        return bookmarks.reduce<Record<string, number>>((accumulator, bookmark) => {\n            accumulator[bookmark.type] = (accumulator[bookmark.type] ?? 0) + 1;\n            return accumulator;\n        }, {});\n    }, [bookmarks]);\n    const topTags = useMemo(() => {\n        const tagCountMap = bookmarks.reduce<Record<string, number>>((accumulator, bookmark) => {\n            bookmark.tags.forEach((tag) => {\n                accumulator[tag] = (accumulator[tag] ?? 0) + 1;\n            });\n            return accumulator;\n        }, {});\n        return Object.entries(tagCountMap)\n            .sort((left, right) => right[1] - left[1])\n            .slice(0, 5);\n    }, [bookmarks]);\n    return (<PagePlaceholder eyebrow=\"Bookmarks\" title={__tx(\"\\uBD81\\uB9C8\\uD06C \\uC6B4\\uC601 \\uD5C8\\uBE0C\")} description={__tx(\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uB2E8\\uC21C \\uC800\\uC7A5\\uC18C\\uAC00 \\uC544\\uB2C8\\uB77C \\uC7AC\\uC2E4\\uC2B5 \\uD050\\uB85C \\uAD00\\uB9AC\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC815\\uB9AC\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n      <section className=\"bookmark-dashboard\">\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uC800\\uC7A5 \\uD56D\\uBAA9\")}</h2>\n          <p>\n            <strong>{bookmarks.length}</strong>개\n          </p>\n        </article>\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uD604\\uC7AC \\uD544\\uD130 \\uACB0\\uACFC\")}</h2>\n          <p>\n            <strong>{filteredBookmarks.length}</strong>개\n          </p>\n        </article>\n        <article className=\"bookmark-metric-card\">\n          <h2>{__tx(\"\\uD0C0\\uC785 \\uBD84\\uD3EC\")}</h2>\n          <p className=\"muted\">\n            {Object.entries(bookmarkTypeCount)\n            .map(([bookmarkType, count]) =>",
  ";\nexport function OnboardingStartPage() {\n    const navigate = useNavigate();\n    const startedAt = useOnboardingStore((store) => store.startedAt);\n    const completedAt = useOnboardingStore((store) => store.completedAt);\n    const startOnboarding = useOnboardingStore((store) => store.startOnboarding);\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uC2E4\\uC2B5 \\uC911\\uC2EC tmux \\uC628\\uBCF4\\uB529\")} description={__tx(\"3\\uBD84 \\uC548\\uC5D0 \\uCCAB \\uD328\\uC778 \\uBD84\\uD560\\uC744 \\uC644\\uB8CC\\uD558\\uACE0, \\uAC1C\\uC778\\uD654\\uB41C \\uD2B8\\uB799 \\uCD94\\uCC9C\\uAE4C\\uC9C0 \\uC5F0\\uACB0\\uD569\\uB2C8\\uB2E4.\")}>\n      <div className=\"onboarding-layout\">\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uC774 \\uC0AC\\uC774\\uD2B8\\uAC00 \\uD574\\uC8FC\\uB294 \\uAC83\")}</h2>\n          <ul className=\"link-list\">\n            <li>{__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uAE30\\uBC18 tmux \\uC2E4\\uC2B5 (Track A~C)\")}</li>\n            <li>{__tx(\"\\uACE0\\uCDA9\\uC2E4\\uB3C4 tmux \\uC2DC\\uBBAC\\uB808\\uC774\\uD130 \\uC2E4\\uC2B5\")}</li>\n            <li>{__tx(\"\\uB2E8\\uCD95\\uD0A4 \\uAC80\\uC0C9, \\uBD81\\uB9C8\\uD06C, \\uC9C4\\uD589\\uB3C4 \\uCD94\\uC801\")}</li>\n          </ul>\n        </section>\n\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uD574\\uC8FC\\uC9C0 \\uC54A\\uB294 \\uAC83\")}</h2>\n          <ul className=\"link-list\">\n            <li>{__tx(\"\\uC2E4\\uC81C \\uC11C\\uBC84/\\uC178 \\uD504\\uB85C\\uC138\\uC2A4 \\uC2E4\\uD589\")}</li>\n            <li>{__tx(\"\\uACC4\\uC815 \\uAE30\\uBC18 \\uD074\\uB77C\\uC6B0\\uB4DC \\uB3D9\\uAE30\\uD654\")}</li>\n            <li>{__tx(\"\\uBC31\\uC5D4\\uB4DC \\uB85C\\uADF8 \\uC218\\uC9D1\")}</li>\n          </ul>\n          <p className=\"muted\">\n            실제 tmux와의 차이는 실습 화면의 <strong>SIMULATED</strong> 안내에서 항상 확인할 수 있습니다.\n          </p>\n        </section>\n      </div>\n\n      <div className=\"inline-actions\">\n        <button type=\"button\" className=\"primary-btn\" onClick={() => {\n            startOnboarding();\n            navigate(": ";\nexport function OnboardingStartPage() {\n    const navigate = useNavigate();\n    const startedAt = useOnboardingStore((store) => store.startedAt);\n    const completedAt = useOnboardingStore((store) => store.completedAt);\n    const startOnboarding = useOnboardingStore((store) => store.startOnboarding);\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uC2E4\\uC2B5 \\uC911\\uC2EC tmux \\uC628\\uBCF4\\uB529\")} description={__tx(\"3\\uBD84 \\uC548\\uC5D0 \\uCCAB \\uD328\\uC778 \\uBD84\\uD560\\uC744 \\uC644\\uB8CC\\uD558\\uACE0, \\uAC1C\\uC778\\uD654\\uB41C \\uD2B8\\uB799 \\uCD94\\uCC9C\\uAE4C\\uC9C0 \\uC5F0\\uACB0\\uD569\\uB2C8\\uB2E4.\")}>\n      <div className=\"onboarding-layout\">\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uC774 \\uC0AC\\uC774\\uD2B8\\uAC00 \\uD574\\uC8FC\\uB294 \\uAC83\")}</h2>\n          <ul className=\"link-list\">\n            <li>{__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uAE30\\uBC18 tmux \\uC2E4\\uC2B5 (Track A~C)\")}</li>\n            <li>{__tx(\"\\uACE0\\uCDA9\\uC2E4\\uB3C4 tmux \\uC2DC\\uBBAC\\uB808\\uC774\\uD130 \\uC2E4\\uC2B5\")}</li>\n            <li>{__tx(\"\\uB2E8\\uCD95\\uD0A4 \\uAC80\\uC0C9, \\uBD81\\uB9C8\\uD06C, \\uC9C4\\uD589\\uB3C4 \\uCD94\\uC801\")}</li>\n          </ul>\n        </section>\n\n        <section className=\"onboarding-card\">\n          <h2>{__tx(\"\\uD574\\uC8FC\\uC9C0 \\uC54A\\uB294 \\uAC83\")}</h2>\n          <ul className=\"link-list\">\n            <li>{__tx(\"\\uC2E4\\uC81C \\uC11C\\uBC84/\\uC178 \\uD504\\uB85C\\uC138\\uC2A4 \\uC2E4\\uD589\")}</li>\n            <li>{__tx(\"\\uACC4\\uC815 \\uAE30\\uBC18 \\uD074\\uB77C\\uC6B0\\uB4DC \\uB3D9\\uAE30\\uD654\")}</li>\n            <li>{__tx(\"\\uBC31\\uC5D4\\uB4DC \\uB85C\\uADF8 \\uC218\\uC9D1\")}</li>\n          </ul>\n          <p className=\"muted\">\n            실제 tmux와의 차이는 실습 화면의 <strong>SIMULATED</strong> 안내에서 항상 확인할 수 있습니다.\n          </p>\n        </section>\n      </div>\n\n      <div className=\"inline-actions\">\n        <button type=\"button\" className=\"primary-btn\" onClick={() => {\n            startOnboarding();\n            navigate(",
  ": ''}\n                </h2>\n                <p className=\"muted\">\n                  {selectedMission.title} · 난이도 {getDifficultyLabel(selectedMission.difficulty)}\n                </p>\n\n                <section className=\"vm-mission-command-block\">\n                  <h3>{__tx(\"\\uC774 \\uBBF8\\uC158\\uC5D0\\uC11C \\uC785\\uB825\\uD560 \\uBA85\\uB839\")}</h3>\n                  {selectedMissionCommands.length > 0 ? (<div className=\"vm-mission-command-list\">\n                      {selectedMissionCommands.map((command) => (<button key={command} type=\"button\" className=\"vm-mission-command-chip\" onClick={() => {\n                        setCommandInput(command);\n                        setMobileWorkbenchView('terminal');\n                    }}>\n                          <code>{command}</code>\n                        </button>))}\n                    </div>) : (<p className=\"muted\">{__tx(\"\\uCD94\\uCC9C \\uBA85\\uB839\\uC744 \\uCC3E\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uC544\\uB798 \\uD78C\\uD2B8\\uB97C \\uAE30\\uC900\\uC73C\\uB85C \\uC9C1\\uC811 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\")}</p>)}\n                  <p className=\"muted\">{__tx(\"\\uBA85\\uB839\\uC744 \\uD074\\uB9AD\\uD558\\uBA74 \\uC785\\uB825\\uCC3D\\uC5D0 \\uCC44\\uC6CC\\uC9C0\\uACE0 \\uD130\\uBBF8\\uB110 \\uD0ED\\uC73C\\uB85C \\uC804\\uD658\\uB429\\uB2C8\\uB2E4.\")}</p>\n                </section>\n\n                <section className=\"vm-mission-precondition-block\">\n                  <h3>{__tx(\"\\uC2E4\\uD589 \\uC804 \\uD504\\uB9AC\\uCEE8\\uB514\\uC158\")}</h3>\n                  <ul className=\"vm-precondition-list\">\n                    {selectedMissionPreconditions.map((item) => (<li key={item.key} className={": ": ''}\n                </h2>\n                <p className=\"muted\">\n                  {selectedMission.title} · 난이도 {getDifficultyLabel(selectedMission.difficulty)}\n                </p>\n\n                <section className=\"vm-mission-command-block\">\n                  <h3>{__tx(\"\\uC774 \\uBBF8\\uC158\\uC5D0\\uC11C \\uC785\\uB825\\uD560 \\uBA85\\uB839\")}</h3>\n                  {selectedMissionCommands.length > 0 ? (<div className=\"vm-mission-command-list\">\n                      {selectedMissionCommands.map((command) => (<button key={command} type=\"button\" className=\"vm-mission-command-chip\" onClick={() => {\n                        setCommandInput(command);\n                        setMobileWorkbenchView('terminal');\n                    }}>\n                          <code>{command}</code>\n                        </button>))}\n                    </div>) : (<p className=\"muted\">{__tx(\"\\uCD94\\uCC9C \\uBA85\\uB839\\uC744 \\uCC3E\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uC544\\uB798 \\uD78C\\uD2B8\\uB97C \\uAE30\\uC900\\uC73C\\uB85C \\uC9C1\\uC811 \\uC785\\uB825\\uD574 \\uC8FC\\uC138\\uC694.\")}</p>)}\n                  <p className=\"muted\">{__tx(\"\\uBA85\\uB839\\uC744 \\uD074\\uB9AD\\uD558\\uBA74 \\uC785\\uB825\\uCC3D\\uC5D0 \\uCC44\\uC6CC\\uC9C0\\uACE0 \\uD130\\uBBF8\\uB110 \\uD0ED\\uC73C\\uB85C \\uC804\\uD658\\uB429\\uB2C8\\uB2E4.\")}</p>\n                </section>\n\n                <section className=\"vm-mission-precondition-block\">\n                  <h3>{__tx(\"\\uC2E4\\uD589 \\uC804 \\uD504\\uB9AC\\uCEE8\\uB514\\uC158\")}</h3>\n                  <ul className=\"vm-precondition-list\">\n                    {selectedMissionPreconditions.map((item) => (<li key={item.key} className={",
  "? __tx(\"\\uC644\\uB8CC\\uB428\") : __tx(\"\\uC9C4\\uD589 \\uC911\")}\n                  </strong>\n                </p>\n                <p className=\"muted\">시작: {formatSessionDateTime(selectedMissionSession.startedAt)}</p>\n                {selectedMissionSession.completedAt ? (<p className=\"muted\">완료: {formatSessionDateTime(selectedMissionSession.completedAt)}</p>) : null}\n                {selectedMissionSession.gainedXp !== null ? (<p className=\"muted\">{__tx(\"\\uD68D\\uB4DD XP: +\")}{selectedMissionSession.gainedXp}</p>) : null}\n              </section>) : null}\n\n            {selectedLesson ? (<section className=\"vm-lesson-card\">\n                <p className=\"vm-lesson-card-path\">\n                  {selectedLessonTrack?.title ?? selectedLesson.trackSlug} ·{": "? __tx(\"\\uC644\\uB8CC\\uB428\") : __tx(\"\\uC9C4\\uD589 \\uC911\")}\n                  </strong>\n                </p>\n                <p className=\"muted\">시작: {formatSessionDateTime(selectedMissionSession.startedAt)}</p>\n                {selectedMissionSession.completedAt ? (<p className=\"muted\">완료: {formatSessionDateTime(selectedMissionSession.completedAt)}</p>) : null}\n                {selectedMissionSession.gainedXp !== null ? (<p className=\"muted\">{__tx(\"\\uD68D\\uB4DD XP: +\")}{selectedMissionSession.gainedXp}</p>) : null}\n              </section>) : null}\n\n            {selectedLesson ? (<section className=\"vm-lesson-card\">\n                <p className=\"vm-lesson-card-path\">\n                  {selectedLessonTrack?.title ?? selectedLesson.trackSlug} ·{",
  ") ?? null;\n            setMission(firstMission);\n        })\n            .catch(() => setMission(null));\n    }, []);\n    useEffect(() => {\n        if (mission) {\n            initMissionScenario(mission);\n        }\n        else {\n            resetSimulator();\n        }\n        setSimulatorPrefix(prefixKey);\n    }, [initMissionScenario, mission, prefixKey, resetSimulator, setSimulatorPrefix]);\n    const activeWindow = useMemo(() => getActiveWindow(simulatorState), [simulatorState]);\n    const liveGrade = useMemo(() => (mission ? evaluateMission(simulatorState, mission) : null), [mission, simulatorState]);\n    const liveHint = useMemo(() => (mission && liveGrade ? getLiveHintForMission(mission, liveGrade) : null), [liveGrade, mission]);\n    const sendPrefixKey = (key: string) => {\n        handleKeyInput(prefixKey);\n        handleKeyInput(key);\n    };\n    const handleCheck = () => {\n        if (!mission) {\n            return;\n        }\n        const grade = evaluateMission(simulatorState, mission);\n        if (grade.passed) {\n            const gainedXp = recordMissionPass({\n                missionSlug: mission.slug,\n                difficulty: mission.difficulty,\n                hintLevel: maxHintLevelUsed,\n                attemptNumber: Math.max(1, attemptCount + 1),\n            });\n            markFirstMissionPassed();\n            navigate(`/onboarding/first-mission/passed?missionSlug=${mission.slug}&xp=${gainedXp}`);\n            return;\n        }\n        const nextAttempt = attemptCount + 1;\n        setAttemptCount(nextAttempt);\n        const hint = getHintForMission(mission, grade, nextAttempt);\n        setMaxHintLevelUsed((prev) => (hint.hintLevel > prev ? hint.hintLevel : prev));\n        setHintText(hint.hintText);\n        setFeedback(grade.failedRules[0]?.reason ?? __tx(\"\\uC870\\uAC74\\uC744 \\uCDA9\\uC871\\uD558\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4.\"));\n    };\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uCCAB \\uC2E4\\uC2B5: \\uD328\\uC778 2\\uAC1C \\uB9CC\\uB4E4\\uAE30\")} description={__tx(\"2~3\\uBD84\\uC9DC\\uB9AC \\uBBF8\\uC158\\uC785\\uB2C8\\uB2E4. \\uBD84\\uD560 \\uD6C4 \\uC81C\\uCD9C\\uD558\\uBA74 \\uC989\\uC2DC \\uD1B5\\uACFC \\uC5EC\\uBD80\\uB97C \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\")}>\n      {!mission ? (<EmptyState title={__tx(\"\\uBBF8\\uC158 \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCD08\\uAE30 \\uBBF8\\uC158 \\uB370\\uC774\\uD130\\uB97C \\uCC3E\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uD648\\uC73C\\uB85C \\uC774\\uB3D9 \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"sim-panel\">\n          <section className=\"onboarding-card\">\n            <h2>{__tx(\"\\uBAA9\\uD45C\")}</h2>\n            <ul className=\"link-list\">\n              <li>{__tx(\"\\uD604\\uC7AC \\uC708\\uB3C4\\uC6B0\\uC5D0\\uC11C pane \\uC218\\uB97C 2\\uAC1C \\uC774\\uC0C1\\uC73C\\uB85C \\uB9CC\\uB4E0\\uB2E4.\")}</li>\n              <li>{__tx(\"\\uC644\\uB8CC \\uD6C4 \\uC81C\\uCD9C \\uBC84\\uD2BC\\uC73C\\uB85C \\uCC44\\uC810\\uD55C\\uB2E4.\")}</li>\n            </ul>\n            <p className=\"muted\">\n              현재 상태: pane {activeWindow.panes.length}개 / mode {simulatorState.mode.value}\n            </p>\n          </section>\n\n          <section className=\"onboarding-card\" aria-live=\"polite\">\n            <h2>{__tx(\"\\uC2E4\\uC2DC\\uAC04 \\uD78C\\uD2B8\")}</h2>\n            <p className=\"page-description\">{liveHint?.hintText ?? __tx(\"\\uD604\\uC7AC \\uC0C1\\uD0DC\\uB97C \\uBD84\\uC11D \\uC911\\uC785\\uB2C8\\uB2E4.\")}</p>\n          </section>\n\n          <div className=\"inline-actions\">\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(": ") ?? null;\n            setMission(firstMission);\n        })\n            .catch(() => setMission(null));\n    }, []);\n    useEffect(() => {\n        if (mission) {\n            initMissionScenario(mission);\n        }\n        else {\n            resetSimulator();\n        }\n        setSimulatorPrefix(prefixKey);\n    }, [initMissionScenario, mission, prefixKey, resetSimulator, setSimulatorPrefix]);\n    const activeWindow = useMemo(() => getActiveWindow(simulatorState), [simulatorState]);\n    const liveGrade = useMemo(() => (mission ? evaluateMission(simulatorState, mission) : null), [mission, simulatorState]);\n    const liveHint = useMemo(() => (mission && liveGrade ? getLiveHintForMission(mission, liveGrade) : null), [liveGrade, mission]);\n    const sendPrefixKey = (key: string) => {\n        handleKeyInput(prefixKey);\n        handleKeyInput(key);\n    };\n    const handleCheck = () => {\n        if (!mission) {\n            return;\n        }\n        const grade = evaluateMission(simulatorState, mission);\n        if (grade.passed) {\n            const gainedXp = recordMissionPass({\n                missionSlug: mission.slug,\n                difficulty: mission.difficulty,\n                hintLevel: maxHintLevelUsed,\n                attemptNumber: Math.max(1, attemptCount + 1),\n            });\n            markFirstMissionPassed();\n            navigate(`/onboarding/first-mission/passed?missionSlug=${mission.slug}&xp=${gainedXp}`);\n            return;\n        }\n        const nextAttempt = attemptCount + 1;\n        setAttemptCount(nextAttempt);\n        const hint = getHintForMission(mission, grade, nextAttempt);\n        setMaxHintLevelUsed((prev) => (hint.hintLevel > prev ? hint.hintLevel : prev));\n        setHintText(hint.hintText);\n        setFeedback(grade.failedRules[0]?.reason ?? __tx(\"\\uC870\\uAC74\\uC744 \\uCDA9\\uC871\\uD558\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4.\"));\n    };\n    return (<PagePlaceholder eyebrow=\"Onboarding\" title={__tx(\"\\uCCAB \\uC2E4\\uC2B5: \\uD328\\uC778 2\\uAC1C \\uB9CC\\uB4E4\\uAE30\")} description={__tx(\"2~3\\uBD84\\uC9DC\\uB9AC \\uBBF8\\uC158\\uC785\\uB2C8\\uB2E4. \\uBD84\\uD560 \\uD6C4 \\uC81C\\uCD9C\\uD558\\uBA74 \\uC989\\uC2DC \\uD1B5\\uACFC \\uC5EC\\uBD80\\uB97C \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\")}>\n      {!mission ? (<EmptyState title={__tx(\"\\uBBF8\\uC158 \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCD08\\uAE30 \\uBBF8\\uC158 \\uB370\\uC774\\uD130\\uB97C \\uCC3E\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uD648\\uC73C\\uB85C \\uC774\\uB3D9 \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"sim-panel\">\n          <section className=\"onboarding-card\">\n            <h2>{__tx(\"\\uBAA9\\uD45C\")}</h2>\n            <ul className=\"link-list\">\n              <li>{__tx(\"\\uD604\\uC7AC \\uC708\\uB3C4\\uC6B0\\uC5D0\\uC11C pane \\uC218\\uB97C 2\\uAC1C \\uC774\\uC0C1\\uC73C\\uB85C \\uB9CC\\uB4E0\\uB2E4.\")}</li>\n              <li>{__tx(\"\\uC644\\uB8CC \\uD6C4 \\uC81C\\uCD9C \\uBC84\\uD2BC\\uC73C\\uB85C \\uCC44\\uC810\\uD55C\\uB2E4.\")}</li>\n            </ul>\n            <p className=\"muted\">\n              현재 상태: pane {activeWindow.panes.length}개 / mode {simulatorState.mode.value}\n            </p>\n          </section>\n\n          <section className=\"onboarding-card\" aria-live=\"polite\">\n            <h2>{__tx(\"\\uC2E4\\uC2DC\\uAC04 \\uD78C\\uD2B8\")}</h2>\n            <p className=\"page-description\">{liveHint?.hintText ?? __tx(\"\\uD604\\uC7AC \\uC0C1\\uD0DC\\uB97C \\uBD84\\uC11D \\uC911\\uC785\\uB2C8\\uB2E4.\")}</p>\n          </section>\n\n          <div className=\"inline-actions\">\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(",
  ");\n        }}>\n          온보딩 시작\n        </button>\n        <button type=\"button\" className=\"secondary-btn\" onClick={() => navigate(": ");\n        }}>\n          온보딩 시작\n        </button>\n        <button type=\"button\" className=\"secondary-btn\" onClick={() => navigate(",
  ");\n        const trackCommand = options?.trackCommand ?? true;\n        if (trackCommand) {\n            registerCommand(normalized, { source: 'shell' });\n        }\n    }, [registerCommand]);\n    useEffect(() => {\n        if (!import.meta.env.DEV) {\n            return undefined;\n        }\n        window.__tmuxwebVmBridge = {\n            isReady: () => Boolean(emulatorRef.current),\n            getStatus: () => ({\n                status: vmStatus,\n                text: vmStatusText,\n                metrics,\n                actionHistory,\n                commandHistory,\n                debugLineCount: debugLines.length,\n                lastDebugLine: debugLines.length > 0 ? debugLines[debugLines.length - 1] : null,\n            }),\n            saveState: async () => {\n                const emulator = emulatorRef.current as (V86 & {\n                    save_state?: () => Promise<ArrayBuffer> | ArrayBuffer;\n                }) | null;\n                if (!emulator || typeof emulator.save_state !== 'function') {\n                    return null;\n                }\n                const state = await emulator.save_state();\n                return state instanceof ArrayBuffer ? state : null;\n            },\n            sendProbe: () => {\n                sendInternalCommand(PROBE_TRIGGER_COMMAND);\n            },\n            sendCommand: (command: string) => {\n                sendCommand(command);\n            },\n            getBootConfig: () => VM_BOOT_CONFIG,\n            getLastEmulatorOptions: () => lastEmulatorOptionsRef.current,\n        };\n        return () => {\n            delete window.__tmuxwebVmBridge;\n        };\n    }, [actionHistory, commandHistory, debugLines, metrics, sendCommand, sendInternalCommand, vmStatus, vmStatusText]);\n    useEffect(() => {\n        if (!vmInternalBridgeReadyRef.current || !emulatorRef.current) {\n            return;\n        }\n        if (autoProbe) {\n            sendInternalCommand(PROBE_LOOP_START_COMMAND);\n            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n            return;\n        }\n        sendInternalCommand(PROBE_LOOP_STOP_COMMAND);\n    }, [autoProbe, sendInternalCommand]);\n    useEffect(() => {\n        if (contentState.status !== 'ready') {\n            return undefined;\n        }\n        let isMounted = true;\n        let serialListener: ((value?: unknown) => void) | null = null;\n        let serialProbeListener: ((value?: unknown) => void) | null = null;\n        let loadedListener: ((value?: unknown) => void) | null = null;\n        let stopListener: ((value?: unknown) => void) | null = null;\n        setVmStatus('booting');\n        setVmStatusText(__tx(\"v86 \\uCD08\\uAE30\\uD654 \\uC911\"));\n        const host = terminalHostRef.current;\n        if (!host) {\n            setVmStatus('error');\n            setVmStatusText(__tx(\"\\uD130\\uBBF8\\uB110 DOM \\uCD08\\uAE30\\uD654 \\uC2E4\\uD328\"));\n            return undefined;\n        }\n        const initialMetrics = createInitialMetrics();\n        setMetrics(initialMetrics);\n        metricsRef.current = initialMetrics;\n        setActionHistory([]);\n        setCommandHistory([]);\n        setDebugLines([]);\n        setCelebrationState({ active: null, queue: [] });\n        seenCelebrationKeysRef.current.clear();\n        inputLineBufferRef.current = '';\n        inputEscapeSequenceRef.current = false;\n        outputEscapeSequenceRef.current = false;\n        lineBufferRef.current = '';\n        probeLineBufferRef.current = '';\n        vmInternalBridgeReadyRef.current = false;\n        vmWarmBannerPendingRef.current = false;\n        shortcutTelemetryStateRef.current = createTmuxShortcutTelemetryState();\n        if (searchProbeTimerRef.current !== null) {\n            window.clearTimeout(searchProbeTimerRef.current);\n            searchProbeTimerRef.current = null;\n        }\n        const terminal = new Terminal({\n            cursorBlink: true,\n            cols: DEFAULT_TERMINAL_COLS,\n            rows: DEFAULT_TERMINAL_ROWS,\n            fontFamily: 'IBM Plex Mono, ui-monospace, SFMono-Regular, Menlo, Consolas, monospace',\n            fontSize: 14,\n            theme: {\n                background: '#020617',\n                foreground: '#dbeafe',\n                cursor: '#f8fafc',\n            },\n        });\n        terminal.open(host);\n        terminal.focus();\n        terminalRef.current = terminal;\n        const dataDisposable = terminal.onData((data) => {\n            if (!emulatorRef.current) {\n                return;\n            }\n            const shortcutTelemetry = parseTmuxShortcutTelemetry(data, shortcutTelemetryStateRef.current, {\n                inCopyMode: metricsRef.current.modeIs === 'COPY_MODE',\n            });\n            shortcutTelemetry.syntheticCommands.forEach((shortcutEvent) => {\n                registerCommand(shortcutEvent.command, {\n                    source: 'shortcut',\n                    extraActions: [shortcutEvent.shortcutAction],\n                });\n            });\n            if (shortcutTelemetry.shouldProbeSearch) {\n                setMetrics((previous) => ({\n                    ...previous,\n                    searchExecuted: true,\n                }));\n                requestSearchProbe();\n            }\n            captureInteractiveCommandInput(data);\n            emulatorRef.current.serial0_send(data);\n        });\n        const writeByte = (value: number) => {\n            terminal.write(Uint8Array.of(value & 0xff));\n            const char = String.fromCharCode(value & 0xff);\n            if (outputEscapeSequenceRef.current) {\n                if (char >= '@' && char <= '~') {\n                    outputEscapeSequenceRef.current = false;\n                }\n                return;\n            }\n            if (char === '\\u001b') {\n                outputEscapeSequenceRef.current = true;\n                return;\n            }\n            if (char === '\\r') {\n                return;\n            }\n            if (char === '\\n') {\n                const completedLine = lineBufferRef.current;\n                lineBufferRef.current = '';\n                const probeMetric = parseProbeMetricFromLine(completedLine);\n                if (probeMetric) {\n                    updateMetricByProbe(probeMetric);\n                    return;\n                }\n                pushDebugLine(completedLine);\n                const plainLine = stripAnsi(completedLine).replace(/\\r/g, '');\n                const normalizedLine = plainLine.toLowerCase();\n                const hasShellPrompt = /[#$]\\s*$/.test(plainLine.trimEnd());\n                if (normalizedLine.includes('login:') || hasShellPrompt) {\n                    setVmStatusText(__tx(\"\\uBD80\\uD305 \\uC644\\uB8CC, \\uBA85\\uB839 \\uC785\\uB825 \\uAC00\\uB2A5\"));\n                    setVmStatus('running');\n                }\n                if (hasShellPrompt && !vmInternalBridgeReadyRef.current && emulatorRef.current) {\n                    vmInternalBridgeReadyRef.current = true;\n                    if (vmWarmBannerPendingRef.current) {\n                        sendInternalCommand(BANNER_TRIGGER_COMMAND);\n                        vmWarmBannerPendingRef.current = false;\n                    }\n                    sendInternalCommand(TERMINAL_GEOMETRY_SYNC_COMMAND);\n                    if (autoProbeRef.current) {\n                        sendInternalCommand(PROBE_LOOP_START_COMMAND);\n                    }\n                    sendInternalCommand(PROBE_TRIGGER_COMMAND);\n                }\n                return;\n            }\n            if (char === '\\b' || char === String.fromCharCode(127)) {\n                lineBufferRef.current = lineBufferRef.current.slice(0, -1);\n                return;\n            }\n            if (char >= ' ') {\n                lineBufferRef.current += char;\n            }\n        };\n        const writeProbeByte = (value: number) => {\n            const char = String.fromCharCode(value & 0xff);\n            if (char === '\\r') {\n                return;\n            }\n            if (char === '\\n') {\n                const completedLine = probeLineBufferRef.current;\n                probeLineBufferRef.current = '';\n                const probeMetric = parseProbeMetricFromLine(completedLine);\n                if (probeMetric) {\n                    updateMetricByProbe(probeMetric);\n                }\n                return;\n            }\n            if (char >= ' ') {\n                probeLineBufferRef.current += char;\n            }\n        };\n        (async () => {\n            try {\n                const module = await import('v86');\n                if (!isMounted) {\n                    return;\n                }\n                const V86Ctor = module.default;\n                setVmStatusText(__tx(\"VM \\uC2DC\\uC791 \\uC774\\uBBF8\\uC9C0 \\uD655\\uC778 \\uC911...\"));\n                const initialState = disableWarmStart ? null : await loadVmInitialState(VM_BOOT_CONFIG.initialStatePath);\n                if (!isMounted) {\n                    return;\n                }\n                let useWarmStart = Boolean(initialState);\n                if (useWarmStart) {\n                    setVmStatusText(__tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uB85C\\uB529 \\uC911...\"));\n                }\n                const baseOptions: V86Options = {\n                    wasm_path: VM_BOOT_CONFIG.wasmPath,\n                    wasm_fallback_path: VM_BOOT_CONFIG.wasmFallbackPath,\n                    memory_size: 256 * 1024 * 1024,\n                    vga_memory_size: 8 * 1024 * 1024,\n                    bios: { url: VM_BOOT_CONFIG.biosPath },\n                    vga_bios: { url: VM_BOOT_CONFIG.vgaBiosPath },\n                    filesystem: {\n                        basefs: {\n                            url: VM_BOOT_CONFIG.fsJsonPath,\n                        },\n                        baseurl: VM_BOOT_CONFIG.fsBasePath,\n                    },\n                    bzimage_initrd_from_filesystem: true,\n                    cmdline: 'rw root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose console=ttyS0 init=/sbin/init quiet loglevel=3',\n                    uart1: true,\n                    disable_keyboard: true,\n                    disable_mouse: true,\n                    autostart: true,\n                };\n                let emulator: V86;\n                if (useWarmStart) {\n                    try {\n                        emulator = new V86Ctor({\n                            ...baseOptions,\n                            initial_state: initialState ?? undefined,\n                        });\n                    }\n                    catch {\n                        useWarmStart = false;\n                        setVmStatusText(__tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uBCF5\\uC6D0 \\uC2E4\\uD328, \\uC77C\\uBC18 \\uBD80\\uD305\\uC73C\\uB85C \\uC804\\uD658\"));\n                        emulator = new V86Ctor(baseOptions);\n                    }\n                }\n                else {\n                    emulator = new V86Ctor(baseOptions);\n                }\n                lastEmulatorOptionsRef.current = {\n                    ...baseOptions,\n                    ...(useWarmStart ? { initial_state: initialState ?? undefined } : {}),\n                };\n                vmWarmBannerPendingRef.current = useWarmStart;\n                emulatorRef.current = emulator;\n                loadedListener = () => {\n                    setVmStatusText(useWarmStart ? __tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uBCF5\\uC6D0 \\uC644\\uB8CC\") : __tx(\"\\uCEE4\\uB110 \\uBC0F \\uB8E8\\uD2B8FS \\uB85C\\uB529 \\uC644\\uB8CC\"));\n                };\n                stopListener = () => {\n                    setVmStatus('stopped');\n                    setVmStatusText(__tx(\"VM\\uC774 \\uC911\\uC9C0\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));\n                };\n                serialListener = (value) => {\n                    if (typeof value !== 'number') {\n                        return;\n                    }\n                    writeByte(value);\n                };\n                serialProbeListener = (value) => {\n                    if (typeof value !== 'number') {\n                        return;\n                    }\n                    writeProbeByte(value);\n                };\n                emulator.add_listener('emulator-loaded', loadedListener);\n                emulator.add_listener('emulator-stopped', stopListener);\n                emulator.add_listener('serial0-output-byte', serialListener);\n                emulator.add_listener('serial1-output-byte', serialProbeListener);\n                setVmStatus('booting');\n                setVmStatusText(__tx(\"VM \\uBD80\\uD305 \\uC911...\"));\n                const probeBootstrapDelayMs = useWarmStart ? 700 : 2600;\n                window.setTimeout(() => {\n                    if (!emulatorRef.current) {\n                        return;\n                    }\n                    emulatorRef.current.serial0_send('\\n');\n                    if (useWarmStart) {\n                        window.setTimeout(() => {\n                            if (!emulatorRef.current) {\n                                return;\n                            }\n                            sendInternalCommand(BANNER_TRIGGER_COMMAND);\n                            sendInternalCommand(TERMINAL_GEOMETRY_SYNC_COMMAND);\n                            if (autoProbeRef.current) {\n                                sendInternalCommand(PROBE_LOOP_START_COMMAND);\n                            }\n                            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n                            vmInternalBridgeReadyRef.current = true;\n                            vmWarmBannerPendingRef.current = false;\n                        }, 180);\n                    }\n                }, probeBootstrapDelayMs);\n            }\n            catch {\n                setVmStatus('error');\n                setVmStatusText(__tx(\"v86 \\uCD08\\uAE30\\uD654 \\uC2E4\\uD328 (bios/wasm \\uACBD\\uB85C \\uD655\\uC778 \\uD544\\uC694)\"));\n            }\n        })();\n        return () => {\n            isMounted = false;\n            inputLineBufferRef.current = '';\n            inputEscapeSequenceRef.current = false;\n            outputEscapeSequenceRef.current = false;\n            probeLineBufferRef.current = '';\n            shortcutTelemetryStateRef.current = createTmuxShortcutTelemetryState();\n            if (searchProbeTimerRef.current !== null) {\n                window.clearTimeout(searchProbeTimerRef.current);\n                searchProbeTimerRef.current = null;\n            }\n            dataDisposable.dispose();\n            if (terminalRef.current) {\n                terminalRef.current.dispose();\n                terminalRef.current = null;\n            }\n            const emulator = emulatorRef.current;\n            emulatorRef.current = null;\n            if (emulator) {\n                if (loadedListener) {\n                    emulator.remove_listener('emulator-loaded', loadedListener);\n                }\n                if (stopListener) {\n                    emulator.remove_listener('emulator-stopped', stopListener);\n                }\n                if (serialListener) {\n                    emulator.remove_listener('serial0-output-byte', serialListener);\n                }\n                if (serialProbeListener) {\n                    emulator.remove_listener('serial1-output-byte', serialProbeListener);\n                }\n                void Promise.resolve(emulator.stop()).catch(() => undefined);\n                void Promise.resolve(emulator.destroy()).catch(() => undefined);\n            }\n        };\n    }, [\n        captureInteractiveCommandInput,\n        contentState.status,\n        disableWarmStart,\n        pushDebugLine,\n        registerCommand,\n        requestSearchProbe,\n        sendInternalCommand,\n        updateMetricByProbe,\n        vmEpoch,\n    ]);\n    useEffect(() => {\n        if (!content || !selectedMission || !selectedMissionStatus) {\n            return;\n        }\n        const missionSlug = selectedMission.slug;\n        if (selectedMissionStatus.status !== 'complete') {\n            return;\n        }\n        if (celebratedMissionSetRef.current.has(missionSlug)) {\n            return;\n        }\n        if (completedMissionSlugs.includes(missionSlug)) {\n            celebratedMissionSetRef.current.add(missionSlug);\n            return;\n        }\n        celebratedMissionSetRef.current.add(missionSlug);\n        completeSelectedMission('auto');\n    }, [\n        completeSelectedMission,\n        completedMissionSlugs,\n        content,\n        selectedMission,\n        selectedMissionStatus,\n    ]);\n    const handleManualMissionComplete = useCallback(() => {\n        if (!selectedMission) {\n            return;\n        }\n        const missionSlug = selectedMission.slug;\n        if (completedMissionSlugs.includes(missionSlug)) {\n            return;\n        }\n        celebratedMissionSetRef.current.add(missionSlug);\n        completeSelectedMission('manual');\n    }, [completeSelectedMission, completedMissionSlugs, selectedMission]);\n    const lessonObjectivePreview = selectedLesson?.objectives.slice(0, 3) ?? [];\n    const hiddenObjectiveCount = selectedLesson\n        ? Math.max(selectedLesson.objectives.length - lessonObjectivePreview.length, 0)\n        : 0;\n    const lessonSuccessCriteriaPreview = selectedLesson?.successCriteria?.slice(0, 1) ?? [];\n    const hiddenSuccessCriteriaCount = selectedLesson\n        ? Math.max((selectedLesson.successCriteria?.length ?? 0) - lessonSuccessCriteriaPreview.length, 0)\n        : 0;\n    const lessonFailureStatePreview = selectedLesson?.failureStates?.slice(0, 1) ?? [];\n    const hiddenFailureStateCount = selectedLesson\n        ? Math.max((selectedLesson.failureStates?.length ?? 0) - lessonFailureStatePreview.length, 0)\n        : 0;\n    const missionHintPreview = selectedMission?.hints.slice(0, 2) ?? [];\n    const hiddenMissionHintCount = selectedMission\n        ? Math.max(selectedMission.hints.length - missionHintPreview.length, 0)\n        : 0;\n    const selectedMissionCommands = useMemo(() => buildMissionCommandSuggestions(selectedMission), [selectedMission]);\n    const selectedMissionPreconditions = useMemo(() => buildMissionPreconditionItems(selectedMission, vmSnapshot), [selectedMission, vmSnapshot]);\n    if (contentState.status === 'loading') {\n        return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"Browser VM \\uCD08\\uAE30\\uD654 \\uC911\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC\\uACFC VM \\uB9AC\\uC18C\\uC2A4\\uB97C \\uB85C\\uB529\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>);\n    }\n    if (contentState.status === 'error' || !content) {\n        return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"VM Practice \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uB370\\uC774\\uD130\\uB97C \\uC77D\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <div className=\"inline-actions\">\n          <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                window.location.reload();\n            }}>\n            새로고침\n          </button>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"tmux \\uC2E4\\uC2B5\")} description=\"\">\n      <div className=\"vm-poc-panel\">\n        <details className=\"vm-poc-note\">\n          <summary>{__tx(\"\\uC2E4\\uC2B5 \\uD658\\uACBD \\uC548\\uB0B4\")}</summary>\n          <p>\n            <strong>{__tx(\"\\uC2E4\\uD589 \\uBC29\\uC2DD:\")}</strong> 브라우저 안에서 v86 + Alpine Linux + tmux를 직접 실행합니다. 입력은\n            xterm.js를 통해 시리얼 콘솔로 전달됩니다.\n          </p>\n          <p>\n            <strong>{__tx(\"\\uBE0C\\uB9AC\\uC9C0:\")}</strong> VM 출력에서 tmux 상태/행동을 probe로 수집해 미션 완료를 자동 판정합니다.\n          </p>\n        </details>\n\n        {celebration ? (<section className={": ");\n        const trackCommand = options?.trackCommand ?? true;\n        if (trackCommand) {\n            registerCommand(normalized, { source: 'shell' });\n        }\n    }, [registerCommand]);\n    useEffect(() => {\n        if (!import.meta.env.DEV) {\n            return undefined;\n        }\n        window.__tmuxwebVmBridge = {\n            isReady: () => Boolean(emulatorRef.current),\n            getStatus: () => ({\n                status: vmStatus,\n                text: vmStatusText,\n                metrics,\n                actionHistory,\n                commandHistory,\n                debugLineCount: debugLines.length,\n                lastDebugLine: debugLines.length > 0 ? debugLines[debugLines.length - 1] : null,\n            }),\n            saveState: async () => {\n                const emulator = emulatorRef.current as (V86 & {\n                    save_state?: () => Promise<ArrayBuffer> | ArrayBuffer;\n                }) | null;\n                if (!emulator || typeof emulator.save_state !== 'function') {\n                    return null;\n                }\n                const state = await emulator.save_state();\n                return state instanceof ArrayBuffer ? state : null;\n            },\n            sendProbe: () => {\n                sendInternalCommand(PROBE_TRIGGER_COMMAND);\n            },\n            sendCommand: (command: string) => {\n                sendCommand(command);\n            },\n            getBootConfig: () => VM_BOOT_CONFIG,\n            getLastEmulatorOptions: () => lastEmulatorOptionsRef.current,\n        };\n        return () => {\n            delete window.__tmuxwebVmBridge;\n        };\n    }, [actionHistory, commandHistory, debugLines, metrics, sendCommand, sendInternalCommand, vmStatus, vmStatusText]);\n    useEffect(() => {\n        if (!vmInternalBridgeReadyRef.current || !emulatorRef.current) {\n            return;\n        }\n        if (autoProbe) {\n            sendInternalCommand(PROBE_LOOP_START_COMMAND);\n            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n            return;\n        }\n        sendInternalCommand(PROBE_LOOP_STOP_COMMAND);\n    }, [autoProbe, sendInternalCommand]);\n    useEffect(() => {\n        if (contentState.status !== 'ready') {\n            return undefined;\n        }\n        let isMounted = true;\n        let serialListener: ((value?: unknown) => void) | null = null;\n        let serialProbeListener: ((value?: unknown) => void) | null = null;\n        let loadedListener: ((value?: unknown) => void) | null = null;\n        let stopListener: ((value?: unknown) => void) | null = null;\n        setVmStatus('booting');\n        setVmStatusText(__tx(\"v86 \\uCD08\\uAE30\\uD654 \\uC911\"));\n        const host = terminalHostRef.current;\n        if (!host) {\n            setVmStatus('error');\n            setVmStatusText(__tx(\"\\uD130\\uBBF8\\uB110 DOM \\uCD08\\uAE30\\uD654 \\uC2E4\\uD328\"));\n            return undefined;\n        }\n        const initialMetrics = createInitialMetrics();\n        setMetrics(initialMetrics);\n        metricsRef.current = initialMetrics;\n        setActionHistory([]);\n        setCommandHistory([]);\n        setDebugLines([]);\n        setCelebrationState({ active: null, queue: [] });\n        seenCelebrationKeysRef.current.clear();\n        inputLineBufferRef.current = '';\n        inputEscapeSequenceRef.current = false;\n        outputEscapeSequenceRef.current = false;\n        lineBufferRef.current = '';\n        probeLineBufferRef.current = '';\n        vmInternalBridgeReadyRef.current = false;\n        vmWarmBannerPendingRef.current = false;\n        shortcutTelemetryStateRef.current = createTmuxShortcutTelemetryState();\n        if (searchProbeTimerRef.current !== null) {\n            window.clearTimeout(searchProbeTimerRef.current);\n            searchProbeTimerRef.current = null;\n        }\n        const terminal = new Terminal({\n            cursorBlink: true,\n            cols: DEFAULT_TERMINAL_COLS,\n            rows: DEFAULT_TERMINAL_ROWS,\n            fontFamily: 'IBM Plex Mono, ui-monospace, SFMono-Regular, Menlo, Consolas, monospace',\n            fontSize: 14,\n            theme: {\n                background: '#020617',\n                foreground: '#dbeafe',\n                cursor: '#f8fafc',\n            },\n        });\n        terminal.open(host);\n        terminal.focus();\n        terminalRef.current = terminal;\n        const dataDisposable = terminal.onData((data) => {\n            if (!emulatorRef.current) {\n                return;\n            }\n            const shortcutTelemetry = parseTmuxShortcutTelemetry(data, shortcutTelemetryStateRef.current, {\n                inCopyMode: metricsRef.current.modeIs === 'COPY_MODE',\n            });\n            shortcutTelemetry.syntheticCommands.forEach((shortcutEvent) => {\n                registerCommand(shortcutEvent.command, {\n                    source: 'shortcut',\n                    extraActions: [shortcutEvent.shortcutAction],\n                });\n            });\n            if (shortcutTelemetry.shouldProbeSearch) {\n                setMetrics((previous) => ({\n                    ...previous,\n                    searchExecuted: true,\n                }));\n                requestSearchProbe();\n            }\n            captureInteractiveCommandInput(data);\n            emulatorRef.current.serial0_send(data);\n        });\n        const writeByte = (value: number) => {\n            terminal.write(Uint8Array.of(value & 0xff));\n            const char = String.fromCharCode(value & 0xff);\n            if (outputEscapeSequenceRef.current) {\n                if (char >= '@' && char <= '~') {\n                    outputEscapeSequenceRef.current = false;\n                }\n                return;\n            }\n            if (char === '\\u001b') {\n                outputEscapeSequenceRef.current = true;\n                return;\n            }\n            if (char === '\\r') {\n                return;\n            }\n            if (char === '\\n') {\n                const completedLine = lineBufferRef.current;\n                lineBufferRef.current = '';\n                const probeMetric = parseProbeMetricFromLine(completedLine);\n                if (probeMetric) {\n                    updateMetricByProbe(probeMetric);\n                    return;\n                }\n                pushDebugLine(completedLine);\n                const plainLine = stripAnsi(completedLine).replace(/\\r/g, '');\n                const normalizedLine = plainLine.toLowerCase();\n                const hasShellPrompt = /[#$]\\s*$/.test(plainLine.trimEnd());\n                if (normalizedLine.includes('login:') || hasShellPrompt) {\n                    setVmStatusText(__tx(\"\\uBD80\\uD305 \\uC644\\uB8CC, \\uBA85\\uB839 \\uC785\\uB825 \\uAC00\\uB2A5\"));\n                    setVmStatus('running');\n                }\n                if (hasShellPrompt && !vmInternalBridgeReadyRef.current && emulatorRef.current) {\n                    vmInternalBridgeReadyRef.current = true;\n                    if (vmWarmBannerPendingRef.current) {\n                        sendInternalCommand(BANNER_TRIGGER_COMMAND);\n                        vmWarmBannerPendingRef.current = false;\n                    }\n                    sendInternalCommand(TERMINAL_GEOMETRY_SYNC_COMMAND);\n                    if (autoProbeRef.current) {\n                        sendInternalCommand(PROBE_LOOP_START_COMMAND);\n                    }\n                    sendInternalCommand(PROBE_TRIGGER_COMMAND);\n                }\n                return;\n            }\n            if (char === '\\b' || char === String.fromCharCode(127)) {\n                lineBufferRef.current = lineBufferRef.current.slice(0, -1);\n                return;\n            }\n            if (char >= ' ') {\n                lineBufferRef.current += char;\n            }\n        };\n        const writeProbeByte = (value: number) => {\n            const char = String.fromCharCode(value & 0xff);\n            if (char === '\\r') {\n                return;\n            }\n            if (char === '\\n') {\n                const completedLine = probeLineBufferRef.current;\n                probeLineBufferRef.current = '';\n                const probeMetric = parseProbeMetricFromLine(completedLine);\n                if (probeMetric) {\n                    updateMetricByProbe(probeMetric);\n                }\n                return;\n            }\n            if (char >= ' ') {\n                probeLineBufferRef.current += char;\n            }\n        };\n        (async () => {\n            try {\n                const module = await import('v86');\n                if (!isMounted) {\n                    return;\n                }\n                const V86Ctor = module.default;\n                setVmStatusText(__tx(\"VM \\uC2DC\\uC791 \\uC774\\uBBF8\\uC9C0 \\uD655\\uC778 \\uC911...\"));\n                const initialState = disableWarmStart ? null : await loadVmInitialState(VM_BOOT_CONFIG.initialStatePath);\n                if (!isMounted) {\n                    return;\n                }\n                let useWarmStart = Boolean(initialState);\n                if (useWarmStart) {\n                    setVmStatusText(__tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uB85C\\uB529 \\uC911...\"));\n                }\n                const baseOptions: V86Options = {\n                    wasm_path: VM_BOOT_CONFIG.wasmPath,\n                    wasm_fallback_path: VM_BOOT_CONFIG.wasmFallbackPath,\n                    memory_size: 256 * 1024 * 1024,\n                    vga_memory_size: 8 * 1024 * 1024,\n                    bios: { url: VM_BOOT_CONFIG.biosPath },\n                    vga_bios: { url: VM_BOOT_CONFIG.vgaBiosPath },\n                    filesystem: {\n                        basefs: {\n                            url: VM_BOOT_CONFIG.fsJsonPath,\n                        },\n                        baseurl: VM_BOOT_CONFIG.fsBasePath,\n                    },\n                    bzimage_initrd_from_filesystem: true,\n                    cmdline: 'rw root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose console=ttyS0 init=/sbin/init quiet loglevel=3',\n                    uart1: true,\n                    disable_keyboard: true,\n                    disable_mouse: true,\n                    autostart: true,\n                };\n                let emulator: V86;\n                if (useWarmStart) {\n                    try {\n                        emulator = new V86Ctor({\n                            ...baseOptions,\n                            initial_state: initialState ?? undefined,\n                        });\n                    }\n                    catch {\n                        useWarmStart = false;\n                        setVmStatusText(__tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uBCF5\\uC6D0 \\uC2E4\\uD328, \\uC77C\\uBC18 \\uBD80\\uD305\\uC73C\\uB85C \\uC804\\uD658\"));\n                        emulator = new V86Ctor(baseOptions);\n                    }\n                }\n                else {\n                    emulator = new V86Ctor(baseOptions);\n                }\n                lastEmulatorOptionsRef.current = {\n                    ...baseOptions,\n                    ...(useWarmStart ? { initial_state: initialState ?? undefined } : {}),\n                };\n                vmWarmBannerPendingRef.current = useWarmStart;\n                emulatorRef.current = emulator;\n                loadedListener = () => {\n                    setVmStatusText(useWarmStart ? __tx(\"\\uBE60\\uB978 \\uC2DC\\uC791 \\uC2A4\\uB0C5\\uC0F7 \\uBCF5\\uC6D0 \\uC644\\uB8CC\") : __tx(\"\\uCEE4\\uB110 \\uBC0F \\uB8E8\\uD2B8FS \\uB85C\\uB529 \\uC644\\uB8CC\"));\n                };\n                stopListener = () => {\n                    setVmStatus('stopped');\n                    setVmStatusText(__tx(\"VM\\uC774 \\uC911\\uC9C0\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4\"));\n                };\n                serialListener = (value) => {\n                    if (typeof value !== 'number') {\n                        return;\n                    }\n                    writeByte(value);\n                };\n                serialProbeListener = (value) => {\n                    if (typeof value !== 'number') {\n                        return;\n                    }\n                    writeProbeByte(value);\n                };\n                emulator.add_listener('emulator-loaded', loadedListener);\n                emulator.add_listener('emulator-stopped', stopListener);\n                emulator.add_listener('serial0-output-byte', serialListener);\n                emulator.add_listener('serial1-output-byte', serialProbeListener);\n                setVmStatus('booting');\n                setVmStatusText(__tx(\"VM \\uBD80\\uD305 \\uC911...\"));\n                const probeBootstrapDelayMs = useWarmStart ? 700 : 2600;\n                window.setTimeout(() => {\n                    if (!emulatorRef.current) {\n                        return;\n                    }\n                    emulatorRef.current.serial0_send('\\n');\n                    if (useWarmStart) {\n                        window.setTimeout(() => {\n                            if (!emulatorRef.current) {\n                                return;\n                            }\n                            sendInternalCommand(BANNER_TRIGGER_COMMAND);\n                            sendInternalCommand(TERMINAL_GEOMETRY_SYNC_COMMAND);\n                            if (autoProbeRef.current) {\n                                sendInternalCommand(PROBE_LOOP_START_COMMAND);\n                            }\n                            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n                            vmInternalBridgeReadyRef.current = true;\n                            vmWarmBannerPendingRef.current = false;\n                        }, 180);\n                    }\n                }, probeBootstrapDelayMs);\n            }\n            catch {\n                setVmStatus('error');\n                setVmStatusText(__tx(\"v86 \\uCD08\\uAE30\\uD654 \\uC2E4\\uD328 (bios/wasm \\uACBD\\uB85C \\uD655\\uC778 \\uD544\\uC694)\"));\n            }\n        })();\n        return () => {\n            isMounted = false;\n            inputLineBufferRef.current = '';\n            inputEscapeSequenceRef.current = false;\n            outputEscapeSequenceRef.current = false;\n            probeLineBufferRef.current = '';\n            shortcutTelemetryStateRef.current = createTmuxShortcutTelemetryState();\n            if (searchProbeTimerRef.current !== null) {\n                window.clearTimeout(searchProbeTimerRef.current);\n                searchProbeTimerRef.current = null;\n            }\n            dataDisposable.dispose();\n            if (terminalRef.current) {\n                terminalRef.current.dispose();\n                terminalRef.current = null;\n            }\n            const emulator = emulatorRef.current;\n            emulatorRef.current = null;\n            if (emulator) {\n                if (loadedListener) {\n                    emulator.remove_listener('emulator-loaded', loadedListener);\n                }\n                if (stopListener) {\n                    emulator.remove_listener('emulator-stopped', stopListener);\n                }\n                if (serialListener) {\n                    emulator.remove_listener('serial0-output-byte', serialListener);\n                }\n                if (serialProbeListener) {\n                    emulator.remove_listener('serial1-output-byte', serialProbeListener);\n                }\n                void Promise.resolve(emulator.stop()).catch(() => undefined);\n                void Promise.resolve(emulator.destroy()).catch(() => undefined);\n            }\n        };\n    }, [\n        captureInteractiveCommandInput,\n        contentState.status,\n        disableWarmStart,\n        pushDebugLine,\n        registerCommand,\n        requestSearchProbe,\n        sendInternalCommand,\n        updateMetricByProbe,\n        vmEpoch,\n    ]);\n    useEffect(() => {\n        if (!content || !selectedMission || !selectedMissionStatus) {\n            return;\n        }\n        const missionSlug = selectedMission.slug;\n        if (selectedMissionStatus.status !== 'complete') {\n            return;\n        }\n        if (celebratedMissionSetRef.current.has(missionSlug)) {\n            return;\n        }\n        if (completedMissionSlugs.includes(missionSlug)) {\n            celebratedMissionSetRef.current.add(missionSlug);\n            return;\n        }\n        celebratedMissionSetRef.current.add(missionSlug);\n        completeSelectedMission('auto');\n    }, [\n        completeSelectedMission,\n        completedMissionSlugs,\n        content,\n        selectedMission,\n        selectedMissionStatus,\n    ]);\n    const handleManualMissionComplete = useCallback(() => {\n        if (!selectedMission) {\n            return;\n        }\n        const missionSlug = selectedMission.slug;\n        if (completedMissionSlugs.includes(missionSlug)) {\n            return;\n        }\n        celebratedMissionSetRef.current.add(missionSlug);\n        completeSelectedMission('manual');\n    }, [completeSelectedMission, completedMissionSlugs, selectedMission]);\n    const lessonObjectivePreview = selectedLesson?.objectives.slice(0, 3) ?? [];\n    const hiddenObjectiveCount = selectedLesson\n        ? Math.max(selectedLesson.objectives.length - lessonObjectivePreview.length, 0)\n        : 0;\n    const lessonSuccessCriteriaPreview = selectedLesson?.successCriteria?.slice(0, 1) ?? [];\n    const hiddenSuccessCriteriaCount = selectedLesson\n        ? Math.max((selectedLesson.successCriteria?.length ?? 0) - lessonSuccessCriteriaPreview.length, 0)\n        : 0;\n    const lessonFailureStatePreview = selectedLesson?.failureStates?.slice(0, 1) ?? [];\n    const hiddenFailureStateCount = selectedLesson\n        ? Math.max((selectedLesson.failureStates?.length ?? 0) - lessonFailureStatePreview.length, 0)\n        : 0;\n    const missionHintPreview = selectedMission?.hints.slice(0, 2) ?? [];\n    const hiddenMissionHintCount = selectedMission\n        ? Math.max(selectedMission.hints.length - missionHintPreview.length, 0)\n        : 0;\n    const selectedMissionCommands = useMemo(() => buildMissionCommandSuggestions(selectedMission), [selectedMission]);\n    const selectedMissionPreconditions = useMemo(() => buildMissionPreconditionItems(selectedMission, vmSnapshot), [selectedMission, vmSnapshot]);\n    if (contentState.status === 'loading') {\n        return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"Browser VM \\uCD08\\uAE30\\uD654 \\uC911\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC\\uACFC VM \\uB9AC\\uC18C\\uC2A4\\uB97C \\uB85C\\uB529\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>);\n    }\n    if (contentState.status === 'error' || !content) {\n        return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"VM Practice \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uB370\\uC774\\uD130\\uB97C \\uC77D\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <div className=\"inline-actions\">\n          <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                window.location.reload();\n            }}>\n            새로고침\n          </button>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=\"Practice\" title={__tx(\"tmux \\uC2E4\\uC2B5\")} description=\"\">\n      <div className=\"vm-poc-panel\">\n        <details className=\"vm-poc-note\">\n          <summary>{__tx(\"\\uC2E4\\uC2B5 \\uD658\\uACBD \\uC548\\uB0B4\")}</summary>\n          <p>\n            <strong>{__tx(\"\\uC2E4\\uD589 \\uBC29\\uC2DD:\")}</strong> 브라우저 안에서 v86 + Alpine Linux + tmux를 직접 실행합니다. 입력은\n            xterm.js를 통해 시리얼 콘솔로 전달됩니다.\n          </p>\n          <p>\n            <strong>{__tx(\"\\uBE0C\\uB9AC\\uC9C0:\")}</strong> VM 출력에서 tmux 상태/행동을 probe로 수집해 미션 완료를 자동 판정합니다.\n          </p>\n        </details>\n\n        {celebration ? (<section className={",
  ");\n    const [playbooks, setPlaybooks] = useState<AppPlaybook[]>([]);\n    const index = useMemo(() => buildCheatsheetIndex(CHEATSHEET_ITEMS), []);\n    useEffect(() => {\n        loadAppContent()\n            .then((content) => setPlaybooks(content.playbooks))\n            .catch(() => setPlaybooks([]));\n    }, []);\n    const normalizedQuery = query.trim();\n    const results = useMemo(() => searchCheatsheet(index, normalizedQuery, 18), [index, normalizedQuery]);\n    const featuredReferences = useMemo(() => {\n        if (normalizedQuery.length > 0) {\n            return results;\n        }\n        return CHEATSHEET_ITEMS.slice(0, 10);\n    }, [normalizedQuery, results]);\n    return (<PagePlaceholder eyebrow=\"Reference Hub\" title={__tx(\"\\uCE58\\uD2B8\\uC2DC\\uD2B8 + \\uD50C\\uB808\\uC774\\uBD81 \\uD1B5\\uD569 \\uB808\\uD37C\\uB7F0\\uC2A4\")} description={__tx(\"\\uC9E7\\uC740 \\uBA85\\uB839\\uC740 \\uC2E4\\uC2B5 \\uC6CC\\uD06C\\uBCA4\\uCE58\\uC5D0\\uC11C \\uBC14\\uB85C \\uAC80\\uC99D\\uD558\\uACE0, \\uC6B4\\uC601 \\uC808\\uCC28\\uD615 \\uC8FC\\uC81C\\uB294 \\uD50C\\uB808\\uC774\\uBD81\\uC73C\\uB85C \\uAE4A\\uAC8C \\uD559\\uC2B5\\uD558\\uC138\\uC694.\")}>\n      <section className=\"reference-hub-head\">\n        <p className=\"muted\">\n          단축키 표기 안내: `Ctrl+b`는 tmux 기본 prefix 키입니다. 문서의 `prefix`는 보통 `Ctrl+b`를 의미합니다.\n        </p>\n        <input className=\"sim-input reference-search-input\" value={query} onChange={(event) => setQuery(event.target.value)} placeholder={__tx(\"\\uC608: split, tmux.conf, session, copy-mode\")} aria-label=\"Reference search\"/>\n        <div className=\"reference-chip-row\">\n          {QUICK_QUERY_PRESETS.map((preset) => (<button key={preset} type=\"button\" className=\"secondary-btn reference-chip\" onClick={() => setQuery(preset)}>\n              {preset}\n            </button>))}\n        </div>\n      </section>\n\n      <section className=\"reference-section\">\n        <h2>{normalizedQuery.length > 0 ? __tx(\"\\uAC80\\uC0C9 \\uACB0\\uACFC (\") + results.length + \")\" : __tx(\"\\uC790\\uC8FC \\uC4F0\\uB294 \\uB808\\uD37C\\uB7F0\\uC2A4\")}</h2>\n        {featuredReferences.length === 0 ? (<EmptyState title={__tx(\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uB2E4\\uC2DC \\uAC80\\uC0C9\\uD574 \\uBCF4\\uC138\\uC694.\")}/>) : (<div className=\"reference-grid\">\n            {featuredReferences.map((item) => (<article key={item.id} className=\"reference-card\">\n                <p className=\"reference-type\">{item.contentType}</p>\n                <h3>{item.title}</h3>\n                <p className=\"muted\">{item.description}</p>\n                <div className=\"inline-actions\">\n                  {item.contentType ===": ");\n    const [playbooks, setPlaybooks] = useState<AppPlaybook[]>([]);\n    const index = useMemo(() => buildCheatsheetIndex(CHEATSHEET_ITEMS), []);\n    useEffect(() => {\n        loadAppContent()\n            .then((content) => setPlaybooks(content.playbooks))\n            .catch(() => setPlaybooks([]));\n    }, []);\n    const normalizedQuery = query.trim();\n    const results = useMemo(() => searchCheatsheet(index, normalizedQuery, 18), [index, normalizedQuery]);\n    const featuredReferences = useMemo(() => {\n        if (normalizedQuery.length > 0) {\n            return results;\n        }\n        return CHEATSHEET_ITEMS.slice(0, 10);\n    }, [normalizedQuery, results]);\n    return (<PagePlaceholder eyebrow=\"Reference Hub\" title={__tx(\"\\uCE58\\uD2B8\\uC2DC\\uD2B8 + \\uD50C\\uB808\\uC774\\uBD81 \\uD1B5\\uD569 \\uB808\\uD37C\\uB7F0\\uC2A4\")} description={__tx(\"\\uC9E7\\uC740 \\uBA85\\uB839\\uC740 \\uC2E4\\uC2B5 \\uC6CC\\uD06C\\uBCA4\\uCE58\\uC5D0\\uC11C \\uBC14\\uB85C \\uAC80\\uC99D\\uD558\\uACE0, \\uC6B4\\uC601 \\uC808\\uCC28\\uD615 \\uC8FC\\uC81C\\uB294 \\uD50C\\uB808\\uC774\\uBD81\\uC73C\\uB85C \\uAE4A\\uAC8C \\uD559\\uC2B5\\uD558\\uC138\\uC694.\")}>\n      <section className=\"reference-hub-head\">\n        <p className=\"muted\">\n          단축키 표기 안내: `Ctrl+b`는 tmux 기본 prefix 키입니다. 문서의 `prefix`는 보통 `Ctrl+b`를 의미합니다.\n        </p>\n        <input className=\"sim-input reference-search-input\" value={query} onChange={(event) => setQuery(event.target.value)} placeholder={__tx(\"\\uC608: split, tmux.conf, session, copy-mode\")} aria-label=\"Reference search\"/>\n        <div className=\"reference-chip-row\">\n          {QUICK_QUERY_PRESETS.map((preset) => (<button key={preset} type=\"button\" className=\"secondary-btn reference-chip\" onClick={() => setQuery(preset)}>\n              {preset}\n            </button>))}\n        </div>\n      </section>\n\n      <section className=\"reference-section\">\n        <h2>{normalizedQuery.length > 0 ? __tx(\"\\uAC80\\uC0C9 \\uACB0\\uACFC (\") + results.length + \")\" : __tx(\"\\uC790\\uC8FC \\uC4F0\\uB294 \\uB808\\uD37C\\uB7F0\\uC2A4\")}</h2>\n        {featuredReferences.length === 0 ? (<EmptyState title={__tx(\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uB2E4\\uB978 \\uD0A4\\uC6CC\\uB4DC\\uB85C \\uB2E4\\uC2DC \\uAC80\\uC0C9\\uD574 \\uBCF4\\uC138\\uC694.\")}/>) : (<div className=\"reference-grid\">\n            {featuredReferences.map((item) => (<article key={item.id} className=\"reference-card\">\n                <p className=\"reference-type\">{item.contentType}</p>\n                <h3>{item.title}</h3>\n                <p className=\"muted\">{item.description}</p>\n                <div className=\"inline-actions\">\n                  {item.contentType ===",
  ").join(', ') || __tx(\"\\uD0DC\\uADF8 \\uC5C6\\uC74C\")}\n          </p>\n        </article>\n      </section>\n\n      <form className=\"bookmark-form bookmark-form-card\" onSubmit={(event) => {\n            event.preventDefault();\n            if (!title.trim() || !targetId.trim()) {\n                return;\n            }\n            void createBookmark({\n                type,\n                targetId: targetId.trim(),\n                title: title.trim(),\n                tags: tagsInput\n                    .split(',')\n                    .map((tag) => tag.trim())\n                    .filter(Boolean),\n            });\n            setTitle('');\n            setTargetId('');\n            setTagsInput('');\n        }}>\n        <input className=\"sim-input\" value={title} onChange={(event) => setTitle(event.target.value)} placeholder={__tx(\"\\uBD81\\uB9C8\\uD06C \\uC81C\\uBAA9\")} aria-label=\"Bookmark title\"/>\n        <input className=\"sim-input\" value={targetId} onChange={(event) => setTargetId(event.target.value)} placeholder={__tx(\"\\uB300\\uC0C1 ID (\\uC608: mission-a-01)\")} aria-label=\"Bookmark target id\"/>\n        <select className=\"sim-input\" value={type} onChange={(event) => setType(event.target.value as typeof type)}>\n          <option value=\"lesson\">lesson</option>\n          <option value=\"mission\">mission</option>\n          <option value=\"cheatsheet_item\">cheatsheet_item</option>\n          <option value=\"action_pattern\">action_pattern</option>\n          <option value=\"playbook\">playbook</option>\n          <option value=\"snapshot\">snapshot</option>\n        </select>\n        <input className=\"sim-input\" value={tagsInput} onChange={(event) => setTagsInput(event.target.value)} placeholder={__tx(\"\\uD0DC\\uADF8 , \\uAD6C\\uBD84 (\\uC608: session,remote)\")} aria-label=\"Bookmark tags\"/>\n        <button type=\"submit\" className=\"primary-btn\">\n          북마크 저장\n        </button>\n      </form>\n\n      <div className=\"inline-actions bookmark-filter-row\">\n        <input className=\"sim-input\" value={tagFilter} onChange={(event) => setTagFilter(event.target.value)} placeholder={__tx(\"\\uD0DC\\uADF8 \\uD544\\uD130\")} aria-label=\"Tag filter\"/>\n        <select className=\"sim-input\" value={sortOrder} onChange={(event) => setSortOrder(event.target.value as typeof sortOrder)}>\n          <option value=\"newest\">{__tx(\"\\uCD5C\\uC2E0\\uC21C\")}</option>\n          <option value=\"oldest\">{__tx(\"\\uC624\\uB798\\uB41C\\uC21C\")}</option>\n        </select>\n      </div>\n\n      {loading ? (<EmptyState title={__tx(\"\\uB85C\\uB529 \\uC911\")} description={__tx(\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>) : filteredBookmarks.length === 0 ? (<EmptyState title={__tx(\"\\uC544\\uC9C1 \\uC800\\uC7A5\\uB41C \\uD56D\\uBAA9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC2E4\\uC2B5 \\uC911 \\uC911\\uC694\\uD55C \\uB808\\uC2A8/\\uD328\\uD134\\uC744 \\uC800\\uC7A5\\uD558\\uBA74 \\uC5EC\\uAE30\\uC5D0 \\uB204\\uC801\\uB429\\uB2C8\\uB2E4.\")}/>) : (<div className=\"bookmark-list-grid\">\n          {filteredBookmarks.map((bookmark) => (<article key={bookmark.id} className=\"bookmark-list-card\">\n              <h2>\n                {bookmark.title} <span className=\"muted\">[{bookmark.type}]</span>\n              </h2>\n              <p className=\"muted\">\n                target: {bookmark.targetId} / tags: {bookmark.tags.join(', ') || '(none)'}\n              </p>\n              <div className=\"inline-actions\">\n                {buildBookmarkPracticeLink(bookmark) ? (<Link to={buildBookmarkPracticeLink(bookmark) ?? '/practice'} className=\"secondary-btn\">\n                    실습 열기\n                  </Link>) : null}\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                    void deleteBookmark(bookmark.id);\n                }}>\n                  삭제\n                </button>\n              </div>\n              <textarea className=\"bookmark-note\" value={notesByBookmarkId[bookmark.id] ?? ''} onChange={(event) => {\n                    void saveBookmarkNote(bookmark.id, event.target.value);\n                }} placeholder={__tx(\"\\uAC1C\\uC778 \\uB178\\uD2B8\")} aria-label={": ").join(', ') || __tx(\"\\uD0DC\\uADF8 \\uC5C6\\uC74C\")}\n          </p>\n        </article>\n      </section>\n\n      <form className=\"bookmark-form bookmark-form-card\" onSubmit={(event) => {\n            event.preventDefault();\n            if (!title.trim() || !targetId.trim()) {\n                return;\n            }\n            void createBookmark({\n                type,\n                targetId: targetId.trim(),\n                title: title.trim(),\n                tags: tagsInput\n                    .split(',')\n                    .map((tag) => tag.trim())\n                    .filter(Boolean),\n            });\n            setTitle('');\n            setTargetId('');\n            setTagsInput('');\n        }}>\n        <input className=\"sim-input\" value={title} onChange={(event) => setTitle(event.target.value)} placeholder={__tx(\"\\uBD81\\uB9C8\\uD06C \\uC81C\\uBAA9\")} aria-label=\"Bookmark title\"/>\n        <input className=\"sim-input\" value={targetId} onChange={(event) => setTargetId(event.target.value)} placeholder={__tx(\"\\uB300\\uC0C1 ID (\\uC608: mission-a-01)\")} aria-label=\"Bookmark target id\"/>\n        <select className=\"sim-input\" value={type} onChange={(event) => setType(event.target.value as typeof type)}>\n          <option value=\"lesson\">lesson</option>\n          <option value=\"mission\">mission</option>\n          <option value=\"cheatsheet_item\">cheatsheet_item</option>\n          <option value=\"action_pattern\">action_pattern</option>\n          <option value=\"playbook\">playbook</option>\n          <option value=\"snapshot\">snapshot</option>\n        </select>\n        <input className=\"sim-input\" value={tagsInput} onChange={(event) => setTagsInput(event.target.value)} placeholder={__tx(\"\\uD0DC\\uADF8 , \\uAD6C\\uBD84 (\\uC608: session,remote)\")} aria-label=\"Bookmark tags\"/>\n        <button type=\"submit\" className=\"primary-btn\">\n          북마크 저장\n        </button>\n      </form>\n\n      <div className=\"inline-actions bookmark-filter-row\">\n        <input className=\"sim-input\" value={tagFilter} onChange={(event) => setTagFilter(event.target.value)} placeholder={__tx(\"\\uD0DC\\uADF8 \\uD544\\uD130\")} aria-label=\"Tag filter\"/>\n        <select className=\"sim-input\" value={sortOrder} onChange={(event) => setSortOrder(event.target.value as typeof sortOrder)}>\n          <option value=\"newest\">{__tx(\"\\uCD5C\\uC2E0\\uC21C\")}</option>\n          <option value=\"oldest\">{__tx(\"\\uC624\\uB798\\uB41C\\uC21C\")}</option>\n        </select>\n      </div>\n\n      {loading ? (<EmptyState title={__tx(\"\\uB85C\\uB529 \\uC911\")} description={__tx(\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>) : filteredBookmarks.length === 0 ? (<EmptyState title={__tx(\"\\uC544\\uC9C1 \\uC800\\uC7A5\\uB41C \\uD56D\\uBAA9\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC2E4\\uC2B5 \\uC911 \\uC911\\uC694\\uD55C \\uB808\\uC2A8/\\uD328\\uD134\\uC744 \\uC800\\uC7A5\\uD558\\uBA74 \\uC5EC\\uAE30\\uC5D0 \\uB204\\uC801\\uB429\\uB2C8\\uB2E4.\")}/>) : (<div className=\"bookmark-list-grid\">\n          {filteredBookmarks.map((bookmark) => (<article key={bookmark.id} className=\"bookmark-list-card\">\n              <h2>\n                {bookmark.title} <span className=\"muted\">[{bookmark.type}]</span>\n              </h2>\n              <p className=\"muted\">\n                target: {bookmark.targetId} / tags: {bookmark.tags.join(', ') || '(none)'}\n              </p>\n              <div className=\"inline-actions\">\n                {buildBookmarkPracticeLink(bookmark) ? (<Link to={buildBookmarkPracticeLink(bookmark) ?? '/practice'} className=\"secondary-btn\">\n                    실습 열기\n                  </Link>) : null}\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                    void deleteBookmark(bookmark.id);\n                }}>\n                  삭제\n                </button>\n              </div>\n              <textarea className=\"bookmark-note\" value={notesByBookmarkId[bookmark.id] ?? ''} onChange={(event) => {\n                    void saveBookmarkNote(bookmark.id, event.target.value);\n                }} placeholder={__tx(\"\\uAC1C\\uC778 \\uB178\\uD2B8\")} aria-label={",
  ").map((achievement) => ({\n            ...achievement,\n            unlocked: unlockedSet.has(achievement.id),\n        }));\n    }, [unlockedFunAchievements]);\n    const milestoneLinks = useMemo(() => {\n        const date = new Date().toISOString().slice(0, 10);\n        return milestoneProgress.unlockedMilestones.map((milestoneSlug) => {\n            const meta = getMilestoneMeta(milestoneSlug);\n            return {\n                milestoneSlug,\n                title: meta?.title ?? milestoneSlug,\n                href: buildSharePath(milestoneSlug, {\n                    level,\n                    xp,\n                    date,\n                    badge: meta?.badge ?? milestoneSlug,\n                }),\n            };\n        });\n    }, [level, milestoneProgress.unlockedMilestones, xp]);\n    const simulateMissionPass = (mission: AppMission) => {\n        const gainedXp = recordMissionPass({\n            missionSlug: mission.slug,\n            difficulty: mission.difficulty,\n            hintLevel: 0,\n            attemptNumber: 1,\n            completedTrackSlugs,\n        });\n        window.alert(__tx(\"\\uC0D8\\uD50C \\uC644\\uB8CC \\uCC98\\uB9AC: +\") + gainedXp + \" XP\");\n    };\n    return (<PagePlaceholder eyebrow=\"Progress\" title={__tx(\"\\uD559\\uC2B5 \\uC9C4\\uD589\\uB3C4\")} description={__tx(\"XP, \\uB808\\uBCA8, \\uC2A4\\uD2B8\\uB9AD, \\uD2B8\\uB799\\uBCC4 \\uC644\\uB8CC \\uD604\\uD669\\uC744 \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\")}>\n      {!content ? (<EmptyState title={__tx(\"\\uC9C4\\uD589 \\uB370\\uC774\\uD130\\uB97C \\uB85C\\uB4DC\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uB2E4\\uC2DC \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"sim-panel\">\n          <div className=\"sim-summary\">\n            <p>\n              <strong>XP:</strong> {xp}\n            </p>\n            <p>\n              <strong>{__tx(\"\\uB808\\uBCA8:\")}</strong> {level}\n            </p>\n            <p>\n              <strong>{__tx(\"\\uC5F0\\uC18D \\uD559\\uC2B5:\")}</strong> {streakDays}일\n            </p>\n            <p>\n              <strong>{__tx(\"\\uC644\\uB8CC \\uBBF8\\uC158:\")}</strong> {completedMissionSlugs.length}\n            </p>\n            <p>\n              <strong>{__tx(\"pane \\uBD84\\uD560 \\uB204\\uC801:\")}</strong> {tmuxSkillStats.splitCount}\n            </p>\n          </div>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"\\uC138\\uC158 \\uD788\\uC2A4\\uD1A0\\uB9AC\")}</h2>\n            <div className=\"progress-session-grid\">\n              <article>\n                <h3>{__tx(\"\\uC9C4\\uD589 \\uC911 \\uC138\\uC158\")}</h3>\n                {inProgressSessions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uC9C4\\uD589 \\uC911\\uC778 \\uC138\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<ul className=\"link-list\">\n                    {inProgressSessions.map((session) => {\n                    const mission = missionBySlug.get(session.missionSlug);\n                    const lessonSlug = session.lessonSlug ?? mission?.lessonSlug ??": ").map((achievement) => ({\n            ...achievement,\n            unlocked: unlockedSet.has(achievement.id),\n        }));\n    }, [unlockedFunAchievements]);\n    const milestoneLinks = useMemo(() => {\n        const date = new Date().toISOString().slice(0, 10);\n        return milestoneProgress.unlockedMilestones.map((milestoneSlug) => {\n            const meta = getMilestoneMeta(milestoneSlug);\n            return {\n                milestoneSlug,\n                title: meta?.title ?? milestoneSlug,\n                href: buildSharePath(milestoneSlug, {\n                    level,\n                    xp,\n                    date,\n                    badge: meta?.badge ?? milestoneSlug,\n                }),\n            };\n        });\n    }, [level, milestoneProgress.unlockedMilestones, xp]);\n    const simulateMissionPass = (mission: AppMission) => {\n        const gainedXp = recordMissionPass({\n            missionSlug: mission.slug,\n            difficulty: mission.difficulty,\n            hintLevel: 0,\n            attemptNumber: 1,\n            completedTrackSlugs,\n        });\n        window.alert(__tx(\"\\uC0D8\\uD50C \\uC644\\uB8CC \\uCC98\\uB9AC: +\") + gainedXp + \" XP\");\n    };\n    return (<PagePlaceholder eyebrow=\"Progress\" title={__tx(\"\\uD559\\uC2B5 \\uC9C4\\uD589\\uB3C4\")} description={__tx(\"XP, \\uB808\\uBCA8, \\uC2A4\\uD2B8\\uB9AD, \\uD2B8\\uB799\\uBCC4 \\uC644\\uB8CC \\uD604\\uD669\\uC744 \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\")}>\n      {!content ? (<EmptyState title={__tx(\"\\uC9C4\\uD589 \\uB370\\uC774\\uD130\\uB97C \\uB85C\\uB4DC\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uB2E4\\uC2DC \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"sim-panel\">\n          <div className=\"sim-summary\">\n            <p>\n              <strong>XP:</strong> {xp}\n            </p>\n            <p>\n              <strong>{__tx(\"\\uB808\\uBCA8:\")}</strong> {level}\n            </p>\n            <p>\n              <strong>{__tx(\"\\uC5F0\\uC18D \\uD559\\uC2B5:\")}</strong> {streakDays}일\n            </p>\n            <p>\n              <strong>{__tx(\"\\uC644\\uB8CC \\uBBF8\\uC158:\")}</strong> {completedMissionSlugs.length}\n            </p>\n            <p>\n              <strong>{__tx(\"pane \\uBD84\\uD560 \\uB204\\uC801:\")}</strong> {tmuxSkillStats.splitCount}\n            </p>\n          </div>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"\\uC138\\uC158 \\uD788\\uC2A4\\uD1A0\\uB9AC\")}</h2>\n            <div className=\"progress-session-grid\">\n              <article>\n                <h3>{__tx(\"\\uC9C4\\uD589 \\uC911 \\uC138\\uC158\")}</h3>\n                {inProgressSessions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uC9C4\\uD589 \\uC911\\uC778 \\uC138\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<ul className=\"link-list\">\n                    {inProgressSessions.map((session) => {\n                    const mission = missionBySlug.get(session.missionSlug);\n                    const lessonSlug = session.lessonSlug ?? mission?.lessonSlug ??",
  ")) && !decodedPayload;\n    if (!achievement) {\n        return (<PagePlaceholder eyebrow=\"Share\" title={__tx(\"\\uC54C \\uC218 \\uC5C6\\uB294 \\uC5C5\\uC801 \\uACF5\\uC720 \\uB9C1\\uD06C\")} description={__tx(\"\\uC9C0\\uC6D0\\uD558\\uC9C0 \\uC54A\\uB294 \\uC5C5\\uC801 \\uACF5\\uC720 \\uACBD\\uB85C\\uC785\\uB2C8\\uB2E4.\")}>\n        <div className=\"inline-actions\">\n          <Link to=\"/progress\" className=\"primary-btn\">\n            Progress로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=\"Share\" title={achievement.title} description={achievement.description}>\n      <div className=\"share-preview-card\">\n        <p className=\"page-eyebrow\">Achievement Challenge</p>\n        <h2>{achievement.title}</h2>\n        <p>{achievement.description}</p>\n        <ul className=\"link-list\">\n          <li>닉네임: {effectivePayload.name}</li>\n          <li>레벨: {effectivePayload.level}</li>\n          <li>XP: {effectivePayload.xp}</li>\n          <li>연속 학습일: {streakDays}</li>\n          <li>달성일: {effectivePayload.date}</li>\n          <li>추천 챌린지: {challengeTarget?.challengeLabel ?? __tx(\"\\uCCAB 3\\uBD84: tmux \\uB9DB\\uBCF4\\uAE30\")}</li>\n        </ul>\n        <div className=\"inline-actions\">\n          <Link className=\"primary-btn\" to={challengeTarget?.path ??": ")) && !decodedPayload;\n    if (!achievement) {\n        return (<PagePlaceholder eyebrow=\"Share\" title={__tx(\"\\uC54C \\uC218 \\uC5C6\\uB294 \\uC5C5\\uC801 \\uACF5\\uC720 \\uB9C1\\uD06C\")} description={__tx(\"\\uC9C0\\uC6D0\\uD558\\uC9C0 \\uC54A\\uB294 \\uC5C5\\uC801 \\uACF5\\uC720 \\uACBD\\uB85C\\uC785\\uB2C8\\uB2E4.\")}>\n        <div className=\"inline-actions\">\n          <Link to=\"/progress\" className=\"primary-btn\">\n            Progress로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=\"Share\" title={achievement.title} description={achievement.description}>\n      <div className=\"share-preview-card\">\n        <p className=\"page-eyebrow\">Achievement Challenge</p>\n        <h2>{achievement.title}</h2>\n        <p>{achievement.description}</p>\n        <ul className=\"link-list\">\n          <li>닉네임: {effectivePayload.name}</li>\n          <li>레벨: {effectivePayload.level}</li>\n          <li>XP: {effectivePayload.xp}</li>\n          <li>연속 학습일: {streakDays}</li>\n          <li>달성일: {effectivePayload.date}</li>\n          <li>추천 챌린지: {challengeTarget?.challengeLabel ?? __tx(\"\\uCCAB 3\\uBD84: tmux \\uB9DB\\uBCF4\\uAE30\")}</li>\n        </ul>\n        <div className=\"inline-actions\">\n          <Link className=\"primary-btn\" to={challengeTarget?.path ??",
  ")));\n        }}>\n            링크 복사\n          </button>\n          <a className=": ")));\n        }}>\n            링크 복사\n          </button>\n          <a className=",
  ")}\n                        </li>))}\n                    </ul>) : (<p className=\"muted\">{__tx(\"\\uD78C\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>)}\n                  {restHints.length > 0 ? (<details className=\"lesson-mission-more\">\n                      <summary>힌트 {restHints.length}{__tx(\"\\uAC1C \\uB354 \\uBCF4\\uAE30\")}</summary>\n                      <ul className=\"link-list lesson-mission-hints\">\n                        {restHints.map((hint, index) => (<li key={": ")}\n                        </li>))}\n                    </ul>) : (<p className=\"muted\">{__tx(\"\\uD78C\\uD2B8\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>)}\n                  {restHints.length > 0 ? (<details className=\"lesson-mission-more\">\n                      <summary>힌트 {restHints.length}{__tx(\"\\uAC1C \\uB354 \\uBCF4\\uAE30\")}</summary>\n                      <ul className=\"link-list lesson-mission-hints\">\n                        {restHints.map((hint, index) => (<li key={",
  ")}\n            </li>))}\n        </ul>\n\n        {lesson.successCriteria && lesson.successCriteria.length > 0 ? (<details className=\"lesson-detail-group\">\n            <summary>완료 기준 {lesson.successCriteria.length}{__tx(\"\\uAC1C\")}</summary>\n            <ul className=\"link-list\">\n              {lesson.successCriteria.map((item, index) => (<li key={": ")}\n            </li>))}\n        </ul>\n\n        {lesson.successCriteria && lesson.successCriteria.length > 0 ? (<details className=\"lesson-detail-group\">\n            <summary>완료 기준 {lesson.successCriteria.length}{__tx(\"\\uAC1C\")}</summary>\n            <ul className=\"link-list\">\n              {lesson.successCriteria.map((item, index) => (<li key={",
  ")} ${actionHint}`,\n        };\n    }\n    if (normalizedAttempt === 2) {\n        return {\n            hintLevel: 2,\n            hintText: (mission.hints[1] ?? `실패 조건: ${formatFailedRules(result)}`) + __tx(": ")} ${actionHint}`,\n        };\n    }\n    if (normalizedAttempt === 2) {\n        return {\n            hintLevel: 2,\n            hintText: (mission.hints[1] ?? `실패 조건: ${formatFailedRules(result)}`) + __tx(",
  ")}</li>))}\n                    </ul>\n                  </details>) : null}\n                {selectedMissionStatus ? (<div className=\"vm-mission-status\">\n                    <p>\n                      <strong>{__tx(\"\\uD310\\uC815:\")}</strong> {selectedMissionStatus.status} · {selectedMissionStatus.reason}\n                    </p>\n                    {selectedMissionStatus.status === 'manual' ? (<button type=\"button\" className=\"secondary-btn\" onClick={handleManualMissionComplete}>\n                        수동 완료 처리\n                      </button>) : null}\n                  </div>) : null}\n              </article>) : null}\n\n            <section className=\"vm-next-action-card\">\n              <p className=\"vm-next-action-eyebrow\">Next Action</p>\n              <h2>{__tx(\"\\uC9C0\\uAE08 \\uD560 \\uC77C\")}</h2>\n              {!selectedMission ? (<p className=\"muted\">{__tx(\"\\uBBF8\\uC158\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uBC14\\uB85C \\uC2E4\\uD589\\uD560 \\uB2E4\\uC74C \\uD589\\uB3D9\\uC744 \\uC548\\uB0B4\\uD569\\uB2C8\\uB2E4.\")}</p>) : null}\n              {selectedMission && selectedMissionStatus?.status === 'complete' && !selectedMissionCompleted ? (<p className=\"muted\">{__tx(\"\\uC644\\uB8CC \\uD310\\uC815 \\uBC18\\uC601 \\uC911\\uC785\\uB2C8\\uB2E4. \\uC7A0\\uC2DC \\uD6C4 \\uC790\\uB3D9\\uC73C\\uB85C \\uC644\\uB8CC \\uCC98\\uB9AC\\uB429\\uB2C8\\uB2E4.\")}</p>) : null}\n              {selectedMission && selectedMissionCompleted && nextIncompleteMission ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong> 완료됨. 다음 미션으로 이동해 이어서 진행하세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={() => selectMissionForAction(nextIncompleteMission.slug)}>\n                    다음 미션으로 이동\n                  </button>\n                  <p className=\"muted\">다음: {nextIncompleteMission.title}</p>\n                </>) : null}\n              {selectedMission && selectedMissionCompleted && !nextIncompleteMission && lessonCompleted && nextLesson ? (<>\n                  <p>\n                    <strong>{__tx(\"\\uD604\\uC7AC \\uB808\\uC2A8 \\uC644\\uB8CC.\")}</strong> 다음 레슨으로 넘어가 학습 흐름을 이어가세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={selectNextLessonForAction}>\n                    다음 레슨 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextLesson.title}</p>\n                </>) : null}\n              {selectedMission && selectedMissionCompleted && !nextIncompleteMission && lessonCompleted && !nextLesson ? (<>\n                  <p>\n                    <strong>{__tx(\"\\uC804\\uCCB4 \\uB808\\uC2A8\\uC744 \\uC644\\uB8CC\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}</strong> 진행 현황에서 업적과 누적 XP를 확인하세요.\n                  </p>\n                  <Link className=\"primary-btn vm-next-action-btn\" to=\"/progress\">\n                    진행 현황 보기\n                  </Link>\n                </>) : null}\n              {selectedMission && !selectedMissionCompleted && selectedMissionStatus?.status === 'manual' ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong>는 자동 판정이 어려워 수동 완료가 필요합니다.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={handleManualMissionComplete}>\n                    수동 완료 처리\n                  </button>\n                </>) : null}\n              {selectedMission &&\n            !selectedMissionCompleted &&\n            selectedMissionStatus?.status !== 'manual' &&\n            selectedMissionStatus?.status !== 'complete' ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong> 미션 수행 중입니다. 터미널에서 힌트를 실행하고 완료 판정을 받으세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={() => setMobileWorkbenchView('terminal')}>\n                    터미널로 이동\n                  </button>\n                </>) : null}\n              {selectedMissionStatus ? (<p className=\"vm-next-action-meta\">\n                  현재 판정: {selectedMissionStatus.status} · {selectedMissionStatus.reason}\n                </p>) : null}\n            </section>\n\n            <section className=\"vm-mission-list-card\">\n              <h2>{__tx(\"\\uBBF8\\uC158 \\uBAA9\\uB85D\")}</h2>\n              <div className=\"vm-mission-list\">\n                {lessonMissions.map((mission, index) => {\n            const missionStatus = missionStatusMap.get(mission.slug);\n            const isSelected = mission.slug === selectedMissionSlug;\n            const isCompleted = completedMissionSlugs.includes(mission.slug);\n            let badgeClass = 'is-pending';\n            let badgeLabel = __tx(\"\\uB300\\uAE30\");\n            if (isCompleted) {\n                badgeClass = 'is-complete';\n                badgeLabel = __tx(\"\\uC644\\uB8CC\");\n            }\n            else if (missionStatus?.status === 'complete') {\n                badgeClass = 'is-live-complete';\n                badgeLabel = __tx(\"\\uC2E4\\uC2DC\\uAC04 \\uD1B5\\uACFC\");\n            }\n            else if (missionStatus?.status === 'manual') {\n                badgeClass = 'is-manual';\n                badgeLabel = __tx(\"\\uC218\\uB3D9\");\n            }\n            return (<button key={mission.id} type=\"button\" className={": ")}</li>))}\n                    </ul>\n                  </details>) : null}\n                {selectedMissionStatus ? (<div className=\"vm-mission-status\">\n                    <p>\n                      <strong>{__tx(\"\\uD310\\uC815:\")}</strong> {selectedMissionStatus.status} · {selectedMissionStatus.reason}\n                    </p>\n                    {selectedMissionStatus.status === 'manual' ? (<button type=\"button\" className=\"secondary-btn\" onClick={handleManualMissionComplete}>\n                        수동 완료 처리\n                      </button>) : null}\n                  </div>) : null}\n              </article>) : null}\n\n            <section className=\"vm-next-action-card\">\n              <p className=\"vm-next-action-eyebrow\">Next Action</p>\n              <h2>{__tx(\"\\uC9C0\\uAE08 \\uD560 \\uC77C\")}</h2>\n              {!selectedMission ? (<p className=\"muted\">{__tx(\"\\uBBF8\\uC158\\uC744 \\uC120\\uD0DD\\uD558\\uBA74 \\uBC14\\uB85C \\uC2E4\\uD589\\uD560 \\uB2E4\\uC74C \\uD589\\uB3D9\\uC744 \\uC548\\uB0B4\\uD569\\uB2C8\\uB2E4.\")}</p>) : null}\n              {selectedMission && selectedMissionStatus?.status === 'complete' && !selectedMissionCompleted ? (<p className=\"muted\">{__tx(\"\\uC644\\uB8CC \\uD310\\uC815 \\uBC18\\uC601 \\uC911\\uC785\\uB2C8\\uB2E4. \\uC7A0\\uC2DC \\uD6C4 \\uC790\\uB3D9\\uC73C\\uB85C \\uC644\\uB8CC \\uCC98\\uB9AC\\uB429\\uB2C8\\uB2E4.\")}</p>) : null}\n              {selectedMission && selectedMissionCompleted && nextIncompleteMission ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong> 완료됨. 다음 미션으로 이동해 이어서 진행하세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={() => selectMissionForAction(nextIncompleteMission.slug)}>\n                    다음 미션으로 이동\n                  </button>\n                  <p className=\"muted\">다음: {nextIncompleteMission.title}</p>\n                </>) : null}\n              {selectedMission && selectedMissionCompleted && !nextIncompleteMission && lessonCompleted && nextLesson ? (<>\n                  <p>\n                    <strong>{__tx(\"\\uD604\\uC7AC \\uB808\\uC2A8 \\uC644\\uB8CC.\")}</strong> 다음 레슨으로 넘어가 학습 흐름을 이어가세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={selectNextLessonForAction}>\n                    다음 레슨 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextLesson.title}</p>\n                </>) : null}\n              {selectedMission && selectedMissionCompleted && !nextIncompleteMission && lessonCompleted && !nextLesson ? (<>\n                  <p>\n                    <strong>{__tx(\"\\uC804\\uCCB4 \\uB808\\uC2A8\\uC744 \\uC644\\uB8CC\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}</strong> 진행 현황에서 업적과 누적 XP를 확인하세요.\n                  </p>\n                  <Link className=\"primary-btn vm-next-action-btn\" to=\"/progress\">\n                    진행 현황 보기\n                  </Link>\n                </>) : null}\n              {selectedMission && !selectedMissionCompleted && selectedMissionStatus?.status === 'manual' ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong>는 자동 판정이 어려워 수동 완료가 필요합니다.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={handleManualMissionComplete}>\n                    수동 완료 처리\n                  </button>\n                </>) : null}\n              {selectedMission &&\n            !selectedMissionCompleted &&\n            selectedMissionStatus?.status !== 'manual' &&\n            selectedMissionStatus?.status !== 'complete' ? (<>\n                  <p>\n                    <strong>{selectedMission.title}</strong> 미션 수행 중입니다. 터미널에서 힌트를 실행하고 완료 판정을 받으세요.\n                  </p>\n                  <button type=\"button\" className=\"primary-btn vm-next-action-btn\" onClick={() => setMobileWorkbenchView('terminal')}>\n                    터미널로 이동\n                  </button>\n                </>) : null}\n              {selectedMissionStatus ? (<p className=\"vm-next-action-meta\">\n                  현재 판정: {selectedMissionStatus.status} · {selectedMissionStatus.reason}\n                </p>) : null}\n            </section>\n\n            <section className=\"vm-mission-list-card\">\n              <h2>{__tx(\"\\uBBF8\\uC158 \\uBAA9\\uB85D\")}</h2>\n              <div className=\"vm-mission-list\">\n                {lessonMissions.map((mission, index) => {\n            const missionStatus = missionStatusMap.get(mission.slug);\n            const isSelected = mission.slug === selectedMissionSlug;\n            const isCompleted = completedMissionSlugs.includes(mission.slug);\n            let badgeClass = 'is-pending';\n            let badgeLabel = __tx(\"\\uB300\\uAE30\");\n            if (isCompleted) {\n                badgeClass = 'is-complete';\n                badgeLabel = __tx(\"\\uC644\\uB8CC\");\n            }\n            else if (missionStatus?.status === 'complete') {\n                badgeClass = 'is-live-complete';\n                badgeLabel = __tx(\"\\uC2E4\\uC2DC\\uAC04 \\uD1B5\\uACFC\");\n            }\n            else if (missionStatus?.status === 'manual') {\n                badgeClass = 'is-manual';\n                badgeLabel = __tx(\"\\uC218\\uB3D9\");\n            }\n            return (<button key={mission.id} type=\"button\" className={",
  ")}</li>))}\n                </ul>\n                {hiddenMissionHintCount > 0 ? (<details className=\"vm-mission-hints-more\">\n                    <summary>힌트 {hiddenMissionHintCount}{__tx(\"\\uAC1C \\uB354 \\uBCF4\\uAE30\")}</summary>\n                    <ul className=\"link-list\">\n                      {selectedMission.hints.slice(missionHintPreview.length).map((hint, index) => (<li key={hint}>{renderHintTextWithTooltips(hint,": ")}</li>))}\n                </ul>\n                {hiddenMissionHintCount > 0 ? (<details className=\"vm-mission-hints-more\">\n                    <summary>힌트 {hiddenMissionHintCount}{__tx(\"\\uAC1C \\uB354 \\uBCF4\\uAE30\")}</summary>\n                    <ul className=\"link-list\">\n                      {selectedMission.hints.slice(missionHintPreview.length).map((hint, index) => (<li key={hint}>{renderHintTextWithTooltips(hint,",
  ")}</li>))}\n            </ul>\n          </details>) : null}\n\n        {lessonTerms.length > 0 ? (<>\n            <h3>{__tx(\"\\uC6A9\\uC5B4 \\uBE60\\uB978 \\uC124\\uBA85\")}</h3>\n            <ul className=\"link-list\">\n              {lessonTerms.map((term) => (<li key={term.id}>\n                  <strong>{term.title}:</strong> {term.description}\n                </li>))}\n            </ul>\n          </>) : null}\n\n        <h3>{__tx(\"\\uBBF8\\uC158 \\uC2E4\\uD589 \\uC21C\\uC11C (\")}{missions.length})</h3>\n        {missions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uB4F1\\uB85D\\uB41C \\uBBF8\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<div className=\"lesson-mission-grid\">\n            {missions.map((mission) => {\n                const previewHints = mission.hints.slice(0, 2);\n                const restHints = mission.hints.slice(2);\n                return (<article key={mission.id} className=\"lesson-mission-card\">\n                  <h4>{mission.title}</h4>\n                  <p className=\"lesson-mission-meta\">\n                    난이도 {mission.difficulty} · 초기 시나리오 {mission.initialScenario}\n                  </p>\n                  {previewHints.length > 0 ? (<ul className=\"link-list lesson-mission-hints\">\n                      {previewHints.map((hint, index) => (<li key={": ")}</li>))}\n            </ul>\n          </details>) : null}\n\n        {lessonTerms.length > 0 ? (<>\n            <h3>{__tx(\"\\uC6A9\\uC5B4 \\uBE60\\uB978 \\uC124\\uBA85\")}</h3>\n            <ul className=\"link-list\">\n              {lessonTerms.map((term) => (<li key={term.id}>\n                  <strong>{term.title}:</strong> {term.description}\n                </li>))}\n            </ul>\n          </>) : null}\n\n        <h3>{__tx(\"\\uBBF8\\uC158 \\uC2E4\\uD589 \\uC21C\\uC11C (\")}{missions.length})</h3>\n        {missions.length === 0 ? (<p className=\"muted\">{__tx(\"\\uB4F1\\uB85D\\uB41C \\uBBF8\\uC158\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\")}</p>) : (<div className=\"lesson-mission-grid\">\n            {missions.map((mission) => {\n                const previewHints = mission.hints.slice(0, 2);\n                const restHints = mission.hints.slice(2);\n                return (<article key={mission.id} className=\"lesson-mission-card\">\n                  <h4>{mission.title}</h4>\n                  <p className=\"lesson-mission-meta\">\n                    난이도 {mission.difficulty} · 초기 시나리오 {mission.initialScenario}\n                  </p>\n                  {previewHints.length > 0 ? (<ul className=\"link-list lesson-mission-hints\">\n                      {previewHints.map((hint, index) => (<li key={",
  ")}</li>))}\n            </ul>\n          </details>) : null}\n        {lesson.failureStates && lesson.failureStates.length > 0 ? (<details className=\"lesson-detail-group\">\n            <summary>부족 상태 {lesson.failureStates.length}{__tx(\"\\uAC1C\")}</summary>\n            <ul className=\"link-list\">\n              {lesson.failureStates.map((item, index) => (<li key={": ")}</li>))}\n            </ul>\n          </details>) : null}\n        {lesson.failureStates && lesson.failureStates.length > 0 ? (<details className=\"lesson-detail-group\">\n            <summary>부족 상태 {lesson.failureStates.length}{__tx(\"\\uAC1C\")}</summary>\n            <ul className=\"link-list\">\n              {lesson.failureStates.map((item, index) => (<li key={",
  ")}>\n              Prefix + \" (가로 분할)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(": ")}>\n              Prefix + \" (가로 분할)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(",
  ")}>\n              Prefix + % (세로 분할)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(": ")}>\n              Prefix + % (세로 분할)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => sendPrefixKey(",
  ")}>\n              Prefix + h (패인 이동)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                if (mission) {\n                    initMissionScenario(mission);\n                }\n                else {\n                    resetSimulator();\n                }\n                setSimulatorPrefix(prefixKey);\n                setFeedback(null);\n                setHintText(null);\n                setAttemptCount(0);\n                setMaxHintLevelUsed(0);\n            }}>\n              미션 상태 초기화\n            </button>\n          </div>\n\n          <section className=\"onboarding-card\">\n            <h2>{__tx(\"\\uD604\\uC7AC \\uD328\\uC778\")}</h2>\n            <ul className=\"link-list\">\n              {activeWindow.panes.map((pane) => (<li key={pane.id}>\n                  {pane.id === activeWindow.activePaneId ?": ")}>\n              Prefix + h (패인 이동)\n            </button>\n            <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n                if (mission) {\n                    initMissionScenario(mission);\n                }\n                else {\n                    resetSimulator();\n                }\n                setSimulatorPrefix(prefixKey);\n                setFeedback(null);\n                setHintText(null);\n                setAttemptCount(0);\n                setMaxHintLevelUsed(0);\n            }}>\n              미션 상태 초기화\n            </button>\n          </div>\n\n          <section className=\"onboarding-card\">\n            <h2>{__tx(\"\\uD604\\uC7AC \\uD328\\uC778\")}</h2>\n            <ul className=\"link-list\">\n              {activeWindow.panes.map((pane) => (<li key={pane.id}>\n                  {pane.id === activeWindow.activePaneId ?",
  ")}>\n          바로 커리큘럼 보기\n        </button>\n      </div>\n\n      <p className=\"muted\">\n        시작 상태: {startedAt ? __tx(\"\\uC9C4\\uD589 \\uC911\") : __tx(\"\\uBBF8\\uC2DC\\uC791\")}{__tx(\"| \\uC644\\uB8CC \\uC0C1\\uD0DC:\")}{": ")}>\n          바로 커리큘럼 보기\n        </button>\n      </div>\n\n      <p className=\"muted\">\n        시작 상태: {startedAt ? __tx(\"\\uC9C4\\uD589 \\uC911\") : __tx(\"\\uBBF8\\uC2DC\\uC791\")}{__tx(\"| \\uC644\\uB8CC \\uC0C1\\uD0DC:\")}{",
  "}\n                  {selectedLessonChapter?.title ?? selectedLesson.chapterSlug}\n                </p>\n                <h2>{selectedLesson.title}</h2>\n                <p className=\"muted\">\n                  예상 {selectedLesson.estimatedMinutes}분 · 목표 {selectedLesson.objectives.length}개\n                </p>\n                {selectedLesson.goal ? (<p>\n                    <strong>{__tx(\"\\uB808\\uC2A8 \\uBAA9\\uD45C:\")}</strong> {selectedLesson.goal}\n                  </p>) : null}\n                {lessonSuccessCriteriaPreview.length > 0 ? (<p className=\"muted\">\n                    <strong>{__tx(\"\\uC644\\uB8CC \\uAE30\\uC900:\")}</strong> {lessonSuccessCriteriaPreview[0]}\n                    {hiddenSuccessCriteriaCount > 0 ? \" (+\" + hiddenSuccessCriteriaCount + __tx(\"\\uAC1C)\") :": "}\n                  {selectedLessonChapter?.title ?? selectedLesson.chapterSlug}\n                </p>\n                <h2>{selectedLesson.title}</h2>\n                <p className=\"muted\">\n                  예상 {selectedLesson.estimatedMinutes}분 · 목표 {selectedLesson.objectives.length}개\n                </p>\n                {selectedLesson.goal ? (<p>\n                    <strong>{__tx(\"\\uB808\\uC2A8 \\uBAA9\\uD45C:\")}</strong> {selectedLesson.goal}\n                  </p>) : null}\n                {lessonSuccessCriteriaPreview.length > 0 ? (<p className=\"muted\">\n                    <strong>{__tx(\"\\uC644\\uB8CC \\uAE30\\uC900:\")}</strong> {lessonSuccessCriteriaPreview[0]}\n                    {hiddenSuccessCriteriaCount > 0 ? \" (+\" + hiddenSuccessCriteriaCount + __tx(\"\\uAC1C)\") :",
  "}\n                  </p>) : null}\n                <ul className=\"link-list\">\n                  {lessonObjectivePreview.map((objective) => (<li key={objective}>{objective}</li>))}\n                  {hiddenObjectiveCount > 0 ? <li className=\"muted\">+ {hiddenObjectiveCount}{__tx(\"\\uAC1C \\uBAA9\\uD45C \\uB354 \\uC788\\uC74C\")}</li> : null}\n                </ul>\n                <div className=\"inline-actions\">\n                  <Link className=\"secondary-btn\" to={`/learn/${selectedLesson.trackSlug}/${selectedLesson.chapterSlug}/${selectedLesson.slug}`}>\n                    레슨 상세 보기\n                  </Link>\n                </div>\n              </section>) : null}\n\n            <section className=\"vm-curriculum-panel vm-curriculum-row-layout\">\n              <div className=\"inline-actions\">\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => selectLessonForAction(LEARNING_PATH_ENTRY_LESSON, { resetFilter: true })}>\n                  통합 학습 경로 처음으로\n                </button>\n              </div>\n              <div className=\"vm-lesson-filter\" role=\"tablist\" aria-label={__tx(\"\\uB808\\uC2A8 \\uD544\\uD130\")}>\n                {LESSON_FILTER_OPTIONS.map((option) => (<button key={option.value} type=\"button\" className={`secondary-btn vm-lesson-filter-btn ${lessonFilter === option.value ?": "}\n                  </p>) : null}\n                <ul className=\"link-list\">\n                  {lessonObjectivePreview.map((objective) => (<li key={objective}>{objective}</li>))}\n                  {hiddenObjectiveCount > 0 ? <li className=\"muted\">+ {hiddenObjectiveCount}{__tx(\"\\uAC1C \\uBAA9\\uD45C \\uB354 \\uC788\\uC74C\")}</li> : null}\n                </ul>\n                <div className=\"inline-actions\">\n                  <Link className=\"secondary-btn\" to={`/learn/${selectedLesson.trackSlug}/${selectedLesson.chapterSlug}/${selectedLesson.slug}`}>\n                    레슨 상세 보기\n                  </Link>\n                </div>\n              </section>) : null}\n\n            <section className=\"vm-curriculum-panel vm-curriculum-row-layout\">\n              <div className=\"inline-actions\">\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => selectLessonForAction(LEARNING_PATH_ENTRY_LESSON, { resetFilter: true })}>\n                  통합 학습 경로 처음으로\n                </button>\n              </div>\n              <div className=\"vm-lesson-filter\" role=\"tablist\" aria-label={__tx(\"\\uB808\\uC2A8 \\uD544\\uD130\")}>\n                {LESSON_FILTER_OPTIONS.map((option) => (<button key={option.value} type=\"button\" className={`secondary-btn vm-lesson-filter-btn ${lessonFilter === option.value ?",
  "} aria-modal={isAchievementCelebration ? undefined : true} aria-live=\"polite\" aria-label={__tx(\"\\uC644\\uB8CC \\uD53C\\uB4DC\\uBC31\")}>\n              <div className=\"vm-celebration-burst\" aria-hidden=\"true\">\n                <span />\n                <span />\n                <span />\n              </div>\n              <div className=\"vm-celebration-header\">\n                <span className={`vm-celebration-kind-chip is-${celebration.kind}`}>\n                  {getCelebrationKindLabel(celebration.kind)}\n                </span>\n                {celebrationQueueCount > 0 ? (<span className=\"vm-celebration-queue-chip\">다음 {celebrationQueueCount}</span>) : null}\n              </div>\n              <p>\n                <strong>{celebration.message}</strong>\n              </p>\n              <p>{celebration.detail}</p>\n              {celebration.kind ===": "} aria-modal={isAchievementCelebration ? undefined : true} aria-live=\"polite\" aria-label={__tx(\"\\uC644\\uB8CC \\uD53C\\uB4DC\\uBC31\")}>\n              <div className=\"vm-celebration-burst\" aria-hidden=\"true\">\n                <span />\n                <span />\n                <span />\n              </div>\n              <div className=\"vm-celebration-header\">\n                <span className={`vm-celebration-kind-chip is-${celebration.kind}`}>\n                  {getCelebrationKindLabel(celebration.kind)}\n                </span>\n                {celebrationQueueCount > 0 ? (<span className=\"vm-celebration-queue-chip\">다음 {celebrationQueueCount}</span>) : null}\n              </div>\n              <p>\n                <strong>{celebration.message}</strong>\n              </p>\n              <p>{celebration.detail}</p>\n              {celebration.kind ===",
  "} description={lesson.title + __tx(\" \\u00B7 \\uC608\\uC0C1 \") + lesson.estimatedMinutes + __tx(\"\\uBD84\")}>\n      <section className=\"lesson-section lesson-action-panel\">\n        <ul className=\"lesson-pill-row\">\n          <li className=\"lesson-pill\">예상 {lesson.estimatedMinutes}{__tx(\"\\uBD84\")}</li>\n          <li className=\"lesson-pill\">학습 목표 {lesson.objectives.length}{__tx(\"\\uAC1C\")}</li>\n          <li className=\"lesson-pill\">미션 {missions.length}{__tx(\"\\uAC1C\")}</li>\n        </ul>\n        <div className=\"inline-actions\">\n          <Link className=\"primary-btn\" to={": "} description={lesson.title + __tx(\" \\u00B7 \\uC608\\uC0C1 \") + lesson.estimatedMinutes + __tx(\"\\uBD84\")}>\n      <section className=\"lesson-section lesson-action-panel\">\n        <ul className=\"lesson-pill-row\">\n          <li className=\"lesson-pill\">예상 {lesson.estimatedMinutes}{__tx(\"\\uBD84\")}</li>\n          <li className=\"lesson-pill\">학습 목표 {lesson.objectives.length}{__tx(\"\\uAC1C\")}</li>\n          <li className=\"lesson-pill\">미션 {missions.length}{__tx(\"\\uAC1C\")}</li>\n        </ul>\n        <div className=\"inline-actions\">\n          <Link className=\"primary-btn\" to={",
  "} onClick={() => setMobileWorkbenchView('mission')}>\n            미션\n          </button>\n          <button type=\"button\" className={": "} onClick={() => setMobileWorkbenchView('mission')}>\n            미션\n          </button>\n          <button type=\"button\" className={",
  "} onClick={() => setMobileWorkbenchView('terminal')}>\n            터미널\n          </button>\n        </div>\n\n        <section className={": "} onClick={() => setMobileWorkbenchView('terminal')}>\n            터미널\n          </button>\n        </div>\n\n        <section className={",
  "}`} onClick={() => selectLessonForAction(row.lesson.slug)} aria-pressed={isActive}>\n                        <span className=\"vm-lesson-row-main\">\n                          <strong>{row.lesson.title}</strong>\n                          <small>\n                            {trackTitle} · {chapterTitle}\n                          </small>\n                        </span>\n                        <span className=\"vm-lesson-row-meta\">\n                          <small>\n                            {row.completedMissionCount}/{row.totalMissionCount}\n                          </small>\n                          <span className={`vm-lesson-row-status ${getLessonStatusClass(row.status)}`}>\n                            {getLessonStatusLabel(row.status)}\n                          </span>\n                        </span>\n                      </button>);\n        }))}\n              </section>\n              <div className=\"vm-lesson-progress\">\n                <p>\n                  <strong>{__tx(\"Lesson \\uC9C4\\uD589:\")}</strong> {lessonCompletedMissionCount}/{lessonMissions.length}\n                </p>\n                <p className=\"muted\">manual 판정 미션: {manualMissionCandidates.length}</p>\n              </div>\n              <div className={`vm-runtime-badge ${getMetricBadgeClass(vmStatus)}`}>\n                <span>VM 상태: {vmStatus}</span>\n                <span>{vmStatusText}</span>\n              </div>\n            </section>\n          </aside>\n\n          <section className=\"vm-lab-panel\">\n            <section className=\"vm-poc-controls\">\n              <div className=\"inline-actions\">\n                <Link className=\"secondary-btn\" to=\"/learn\">\n                  커리큘럼으로 이동\n                </Link>\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n            setVmEpoch((value) => value + 1);\n        }}>\n                  VM 재시작\n                </button>\n                <label className=\"vm-poc-check\" htmlFor=\"auto-probe-toggle\">\n                  <input id=\"auto-probe-toggle\" type=\"checkbox\" checked={autoProbe} onChange={(event) => setAutoProbe(event.target.checked)}/>\n                  Auto probe\n                </label>\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n        }}>\n                  Probe 지금 실행\n                </button>\n              </div>\n\n              <form className=\"vm-poc-command-form\" onSubmit={(event) => {\n            event.preventDefault();\n            sendCommand(commandInput);\n        }}>\n                <input className=\"vm-poc-command-input\" value={commandInput} onChange={(event) => setCommandInput(event.target.value)} placeholder=\"tmux new-session -d -s lesson\" aria-label=\"VM shell command\"/>\n                <button type=\"submit\" className=\"primary-btn\" disabled={vmStatus ===": "}`} onClick={() => selectLessonForAction(row.lesson.slug)} aria-pressed={isActive}>\n                        <span className=\"vm-lesson-row-main\">\n                          <strong>{row.lesson.title}</strong>\n                          <small>\n                            {trackTitle} · {chapterTitle}\n                          </small>\n                        </span>\n                        <span className=\"vm-lesson-row-meta\">\n                          <small>\n                            {row.completedMissionCount}/{row.totalMissionCount}\n                          </small>\n                          <span className={`vm-lesson-row-status ${getLessonStatusClass(row.status)}`}>\n                            {getLessonStatusLabel(row.status)}\n                          </span>\n                        </span>\n                      </button>);\n        }))}\n              </section>\n              <div className=\"vm-lesson-progress\">\n                <p>\n                  <strong>{__tx(\"Lesson \\uC9C4\\uD589:\")}</strong> {lessonCompletedMissionCount}/{lessonMissions.length}\n                </p>\n                <p className=\"muted\">manual 판정 미션: {manualMissionCandidates.length}</p>\n              </div>\n              <div className={`vm-runtime-badge ${getMetricBadgeClass(vmStatus)}`}>\n                <span>VM 상태: {vmStatus}</span>\n                <span>{vmStatusText}</span>\n              </div>\n            </section>\n          </aside>\n\n          <section className=\"vm-lab-panel\">\n            <section className=\"vm-poc-controls\">\n              <div className=\"inline-actions\">\n                <Link className=\"secondary-btn\" to=\"/learn\">\n                  커리큘럼으로 이동\n                </Link>\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n            setVmEpoch((value) => value + 1);\n        }}>\n                  VM 재시작\n                </button>\n                <label className=\"vm-poc-check\" htmlFor=\"auto-probe-toggle\">\n                  <input id=\"auto-probe-toggle\" type=\"checkbox\" checked={autoProbe} onChange={(event) => setAutoProbe(event.target.checked)}/>\n                  Auto probe\n                </label>\n                <button type=\"button\" className=\"secondary-btn\" onClick={() => {\n            sendInternalCommand(PROBE_TRIGGER_COMMAND);\n        }}>\n                  Probe 지금 실행\n                </button>\n              </div>\n\n              <form className=\"vm-poc-command-form\" onSubmit={(event) => {\n            event.preventDefault();\n            sendCommand(commandInput);\n        }}>\n                <input className=\"vm-poc-command-input\" value={commandInput} onChange={(event) => setCommandInput(event.target.value)} placeholder=\"tmux new-session -d -s lesson\" aria-label=\"VM shell command\"/>\n                <button type=\"submit\" className=\"primary-btn\" disabled={vmStatus ===",
  "}`} onClick={() => selectMissionForAction(mission.slug)}>\n                      <span className=\"vm-mission-row-main\">\n                        <strong>\n                          {index + 1}. {mission.title}\n                        </strong>\n                        <small>난이도 {getDifficultyLabel(mission.difficulty)}</small>\n                      </span>\n                      <span className={`vm-mission-row-badge ${badgeClass}`}>{badgeLabel}</span>\n                    </button>);\n        })}\n              </div>\n            </section>\n\n            {selectedMissionSession ? (<section className=\"vm-session-card\">\n                <p className=\"vm-session-card-eyebrow\">{__tx(\"\\uD604\\uC7AC \\uC138\\uC158 \\uC0C1\\uD0DC\")}</p>\n                <p>\n                  <strong>\n                    {selectedMissionSession.status ===": "}`} onClick={() => selectMissionForAction(mission.slug)}>\n                      <span className=\"vm-mission-row-main\">\n                        <strong>\n                          {index + 1}. {mission.title}\n                        </strong>\n                        <small>난이도 {getDifficultyLabel(mission.difficulty)}</small>\n                      </span>\n                      <span className={`vm-mission-row-badge ${badgeClass}`}>{badgeLabel}</span>\n                    </button>);\n        })}\n              </div>\n            </section>\n\n            {selectedMissionSession ? (<section className=\"vm-session-card\">\n                <p className=\"vm-session-card-eyebrow\">{__tx(\"\\uD604\\uC7AC \\uC138\\uC158 \\uC0C1\\uD0DC\")}</p>\n                <p>\n                  <strong>\n                    {selectedMissionSession.status ===",
  "}`}>\n                  <h3>{achievement.title}</h3>\n                  <p>{achievement.description}</p>\n                  <p className=\"muted\">{achievement.unlocked ? __tx(\"\\uB2EC\\uC131\\uB428\") : __tx(\"\\uBBF8\\uB2EC\\uC131\")}</p>\n                  {achievement.unlocked ? (<a className=\"text-link\" href={buildTwitterIntentUrl(buildAbsoluteAchievementShareUrl(achievement.id, {\n                        level,\n                        xp,\n                        date: shareDate,\n                        badge: achievement.id,\n                    }), buildAchievementChallengeShareText(achievement.shareText, achievement.id))} target=\"_blank\" rel=\"noreferrer\">\n                      X 챌린지 공유\n                    </a>) : null}\n                </article>))}\n            </div>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"Fun \\uC5C5\\uC801\")}</h2>\n            <p className=\"muted\">\n              {unlockedFunAchievements.length}/{funAchievementRows.length} 달성\n            </p>\n            <ul className=\"link-list\">\n              <li>pane 분할 누적: {tmuxSkillStats.splitCount}</li>\n              <li>최대 pane 수: {tmuxSkillStats.maxPaneCount}</li>\n              <li>window 생성: {tmuxSkillStats.newWindowCount}</li>\n              <li>session 생성: {tmuxSkillStats.newSessionCount}</li>\n              <li>copy-mode 진입: {tmuxSkillStats.copyModeCount}</li>\n              <li>pane resize 누적: {tmuxSkillStats.paneResizeCount}</li>\n              <li>pane 이동/선택 누적: {tmuxSkillStats.paneSelectCount}</li>\n              <li>layout 변경 누적: {tmuxSkillStats.layoutSelectCount}</li>\n              <li>zoom 토글 누적: {tmuxSkillStats.zoomToggleCount}</li>\n              <li>sync 토글 누적: {tmuxSkillStats.syncToggleCount}</li>\n              <li>command-prompt 실행: {tmuxSkillStats.commandPromptCount}</li>\n              <li>choose-tree 실행: {tmuxSkillStats.chooseTreeCount}</li>\n            </ul>\n            <div className=\"achievement-grid\">\n              {funAchievementRows.map((achievement) => (<article key={achievement.id} className={`achievement-card ${achievement.unlocked ?": "}`}>\n                  <h3>{achievement.title}</h3>\n                  <p>{achievement.description}</p>\n                  <p className=\"muted\">{achievement.unlocked ? __tx(\"\\uB2EC\\uC131\\uB428\") : __tx(\"\\uBBF8\\uB2EC\\uC131\")}</p>\n                  {achievement.unlocked ? (<a className=\"text-link\" href={buildTwitterIntentUrl(buildAbsoluteAchievementShareUrl(achievement.id, {\n                        level,\n                        xp,\n                        date: shareDate,\n                        badge: achievement.id,\n                    }), buildAchievementChallengeShareText(achievement.shareText, achievement.id))} target=\"_blank\" rel=\"noreferrer\">\n                      X 챌린지 공유\n                    </a>) : null}\n                </article>))}\n            </div>\n          </section>\n\n          <section className=\"playbook-section\">\n            <h2>{__tx(\"Fun \\uC5C5\\uC801\")}</h2>\n            <p className=\"muted\">\n              {unlockedFunAchievements.length}/{funAchievementRows.length} 달성\n            </p>\n            <ul className=\"link-list\">\n              <li>pane 분할 누적: {tmuxSkillStats.splitCount}</li>\n              <li>최대 pane 수: {tmuxSkillStats.maxPaneCount}</li>\n              <li>window 생성: {tmuxSkillStats.newWindowCount}</li>\n              <li>session 생성: {tmuxSkillStats.newSessionCount}</li>\n              <li>copy-mode 진입: {tmuxSkillStats.copyModeCount}</li>\n              <li>pane resize 누적: {tmuxSkillStats.paneResizeCount}</li>\n              <li>pane 이동/선택 누적: {tmuxSkillStats.paneSelectCount}</li>\n              <li>layout 변경 누적: {tmuxSkillStats.layoutSelectCount}</li>\n              <li>zoom 토글 누적: {tmuxSkillStats.zoomToggleCount}</li>\n              <li>sync 토글 누적: {tmuxSkillStats.syncToggleCount}</li>\n              <li>command-prompt 실행: {tmuxSkillStats.commandPromptCount}</li>\n              <li>choose-tree 실행: {tmuxSkillStats.chooseTreeCount}</li>\n            </ul>\n            <div className=\"achievement-grid\">\n              {funAchievementRows.map((achievement) => (<article key={achievement.id} className={`achievement-card ${achievement.unlocked ?",
  "}>\n                        <span>{item.label}</span>\n                        <small>{item.current}</small>\n                      </li>))}\n                  </ul>\n                </section>\n\n                <div className=\"inline-actions\">\n                  <button type=\"button\" className=\"secondary-btn\" onClick={() => setMobileWorkbenchView('terminal')}>\n                    터미널로 바로 이동\n                  </button>\n                </div>\n\n                <ul className=\"link-list\">\n                  {missionHintPreview.map((hint, index) => (<li key={hint}>{renderHintTextWithTooltips(hint,": "}>\n                        <span>{item.label}</span>\n                        <small>{item.current}</small>\n                      </li>))}\n                  </ul>\n                </section>\n\n                <div className=\"inline-actions\">\n                  <button type=\"button\" className=\"secondary-btn\" onClick={() => setMobileWorkbenchView('terminal')}>\n                    터미널로 바로 이동\n                  </button>\n                </div>\n\n                <ul className=\"link-list\">\n                  {missionHintPreview.map((hint, index) => (<li key={hint}>{renderHintTextWithTooltips(hint,",
  "}>\n                  명령 실행\n                </button>\n              </form>\n\n              <details className=\"vm-poc-quick-wrap\">\n                <summary>{__tx(\"\\uC790\\uC8FC \\uC4F0\\uB294 \\uBA85\\uB839 \\uBE60\\uB974\\uAC8C \\uC2E4\\uD589\")}</summary>\n                <div className=\"vm-poc-quick\">\n                  {QUICK_COMMANDS.map((item) => (<button key={item.label} type=\"button\" className=\"secondary-btn\" onClick={() => sendCommand(item.command)}>\n                      {item.label}\n                    </button>))}\n                </div>\n              </details>\n\n              <p className=\"vm-poc-status\">\n                metrics · sessions {metrics.sessionCount ??": "}>\n                  명령 실행\n                </button>\n              </form>\n\n              <details className=\"vm-poc-quick-wrap\">\n                <summary>{__tx(\"\\uC790\\uC8FC \\uC4F0\\uB294 \\uBA85\\uB839 \\uBE60\\uB974\\uAC8C \\uC2E4\\uD589\")}</summary>\n                <div className=\"vm-poc-quick\">\n                  {QUICK_COMMANDS.map((item) => (<button key={item.label} type=\"button\" className=\"secondary-btn\" onClick={() => sendCommand(item.command)}>\n                      {item.label}\n                    </button>))}\n                </div>\n              </details>\n\n              <p className=\"vm-poc-status\">\n                metrics · sessions {metrics.sessionCount ??",
  "}>\n            시뮬레이터에서 레슨 시작\n          </Link>\n          <Link className=\"secondary-btn\" to=\"/learn\">\n            커리큘럼 목록\n          </Link>\n        </div>\n      </section>\n\n      <section className=\"lesson-section lesson-brief\">\n        <h2>{__tx(\"\\uB808\\uC2A8 \\uAC00\\uC774\\uB4DC\")}</h2>\n        <div className=\"lesson-summary\">\n          {lesson.overview ? (<p>\n              <strong>{__tx(\"\\uB808\\uC2A8 \\uC18C\\uAC1C:\")}</strong> {renderTextWithShortcutTooltip(lesson.overview, 'lesson-overview')}\n            </p>) : null}\n          {lesson.goal ? (<p>\n              <strong>{__tx(\"\\uC774 \\uB808\\uC2A8\\uC758 \\uBAA9\\uD45C:\")}</strong> {renderTextWithShortcutTooltip(lesson.goal, 'lesson-goal')}\n            </p>) : null}\n        </div>\n\n        <h3>{__tx(\"\\uD559\\uC2B5 \\uBAA9\\uD45C\")}</h3>\n        <ul className=\"link-list\">\n          {lesson.objectives.map((objective, index) => (<li key={": "}>\n            시뮬레이터에서 레슨 시작\n          </Link>\n          <Link className=\"secondary-btn\" to=\"/learn\">\n            커리큘럼 목록\n          </Link>\n        </div>\n      </section>\n\n      <section className=\"lesson-section lesson-brief\">\n        <h2>{__tx(\"\\uB808\\uC2A8 \\uAC00\\uC774\\uB4DC\")}</h2>\n        <div className=\"lesson-summary\">\n          {lesson.overview ? (<p>\n              <strong>{__tx(\"\\uB808\\uC2A8 \\uC18C\\uAC1C:\")}</strong> {renderTextWithShortcutTooltip(lesson.overview, 'lesson-overview')}\n            </p>) : null}\n          {lesson.goal ? (<p>\n              <strong>{__tx(\"\\uC774 \\uB808\\uC2A8\\uC758 \\uBAA9\\uD45C:\")}</strong> {renderTextWithShortcutTooltip(lesson.goal, 'lesson-goal')}\n            </p>) : null}\n        </div>\n\n        <h3>{__tx(\"\\uD559\\uC2B5 \\uBAA9\\uD45C\")}</h3>\n        <ul className=\"link-list\">\n          {lesson.objectives.map((objective, index) => (<li key={",
  "}>\n          <aside className=\"vm-study-panel\">\n            {selectedMission ? (<article className=\"vm-mission-card vm-mission-priority-card\">\n                <p className=\"vm-mission-priority-eyebrow\">Priority 1</p>\n                <h2>\n                  현재 미션\n                  {selectedMissionOrder ?": "}>\n          <aside className=\"vm-study-panel\">\n            {selectedMission ? (<article className=\"vm-mission-card vm-mission-priority-card\">\n                <p className=\"vm-mission-priority-eyebrow\">Priority 1</p>\n                <h2>\n                  현재 미션\n                  {selectedMissionOrder ?",
  "}>{segment}</span>;\n    });\n}\nfunction resolveLessonTerms(lesson: AppLesson, missions: AppMission[], termGlossary: LessonTerm[] | null) {\n    const corpus = [\n        lesson.title,\n        lesson.overview ?? '',\n        lesson.goal ?? '',\n        ...lesson.objectives,\n        ...(lesson.successCriteria ?? []),\n        ...(lesson.failureStates ?? []),\n        ...missions.flatMap((mission) => [mission.title, ...mission.hints]),\n    ]\n        .join(' ')\n        .toLowerCase();\n    const source = termGlossary ?? DEFAULT_TERM_GLOSSARY;\n    return source.filter((term) => term.aliases.some((alias) => corpus.includes(alias.toLowerCase()))).slice(0, 6);\n}\nexport function LessonPage() {\n    const { trackSlug, chapterSlug, lessonSlug } = useParams();\n    const [pageState, setPageState] = useState<LessonPageState>({ status: 'loading' });\n    useEffect(() => {\n        let isMounted = true;\n        if (!trackSlug || !chapterSlug || !lessonSlug) {\n            setPageState({ status: 'not-found' });\n            return undefined;\n        }\n        loadAppContent()\n            .then((content) => {\n            if (!isMounted) {\n                return;\n            }\n            const track = getTrackBySlug(content, trackSlug);\n            const chapter = getChapterBySlug(content, chapterSlug);\n            const lesson = getLessonBySlug(content, lessonSlug);\n            const isValidRelation = track?.slug === lesson?.trackSlug &&\n                chapter?.slug === lesson?.chapterSlug &&\n                chapter?.trackSlug === track?.slug;\n            if (!track || !chapter || !lesson || !isValidRelation) {\n                setPageState({ status: 'not-found' });\n                return;\n            }\n            const missions = content.missions.filter((mission) => mission.lessonSlug === lesson.slug);\n            setPageState({\n                status: 'ready',\n                track,\n                chapter,\n                lesson,\n                missions,\n                termGlossary: content.termGlossary ?? null,\n            });\n        })\n            .catch(() => {\n            if (!isMounted) {\n                return;\n            }\n            setPageState({ status: 'error' });\n        });\n        return () => {\n            isMounted = false;\n        };\n    }, [chapterSlug, lessonSlug, trackSlug]);\n    if (pageState.status === 'loading') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8 \\uB85C\\uB529 \\uC911\")} description={__tx(\"\\uB808\\uC2A8 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>);\n    }\n    if (pageState.status === 'not-found') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC798\\uBABB\\uB41C \\uACBD\\uB85C\\uC774\\uAC70\\uB098 \\uCF58\\uD150\\uCE20\\uAC00 \\uBCC0\\uACBD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <EmptyState title={__tx(\"\\uC720\\uD6A8\\uD55C \\uB808\\uC2A8\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uB2E4\\uC2DC \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.\")}/>\n        <div className=\"inline-actions\">\n          <Link className=\"secondary-btn\" to=\"/learn\">\n            커리큘럼으로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    if (pageState.status === 'error') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8 \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCF58\\uD150\\uCE20\\uB97C \\uC77D\\uB294 \\uC911 \\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <EmptyState title={__tx(\"\\uB808\\uC2A8 \\uC815\\uBCF4\\uB97C \\uC77D\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC7A0\\uC2DC \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574 \\uC8FC\\uC138\\uC694.\")}/>\n      </PagePlaceholder>);\n    }\n    const { track, chapter, lesson, missions, termGlossary } = pageState;\n    const lessonTerms = resolveLessonTerms(lesson, missions, termGlossary ?? null);\n    return (<PagePlaceholder eyebrow=\"Lesson\" title={": "}>{segment}</span>;\n    });\n}\nfunction resolveLessonTerms(lesson: AppLesson, missions: AppMission[], termGlossary: LessonTerm[] | null) {\n    const corpus = [\n        lesson.title,\n        lesson.overview ?? '',\n        lesson.goal ?? '',\n        ...lesson.objectives,\n        ...(lesson.successCriteria ?? []),\n        ...(lesson.failureStates ?? []),\n        ...missions.flatMap((mission) => [mission.title, ...mission.hints]),\n    ]\n        .join(' ')\n        .toLowerCase();\n    const source = termGlossary ?? DEFAULT_TERM_GLOSSARY;\n    return source.filter((term) => term.aliases.some((alias) => corpus.includes(alias.toLowerCase()))).slice(0, 6);\n}\nexport function LessonPage() {\n    const { trackSlug, chapterSlug, lessonSlug } = useParams();\n    const [pageState, setPageState] = useState<LessonPageState>({ status: 'loading' });\n    useEffect(() => {\n        let isMounted = true;\n        if (!trackSlug || !chapterSlug || !lessonSlug) {\n            setPageState({ status: 'not-found' });\n            return undefined;\n        }\n        loadAppContent()\n            .then((content) => {\n            if (!isMounted) {\n                return;\n            }\n            const track = getTrackBySlug(content, trackSlug);\n            const chapter = getChapterBySlug(content, chapterSlug);\n            const lesson = getLessonBySlug(content, lessonSlug);\n            const isValidRelation = track?.slug === lesson?.trackSlug &&\n                chapter?.slug === lesson?.chapterSlug &&\n                chapter?.trackSlug === track?.slug;\n            if (!track || !chapter || !lesson || !isValidRelation) {\n                setPageState({ status: 'not-found' });\n                return;\n            }\n            const missions = content.missions.filter((mission) => mission.lessonSlug === lesson.slug);\n            setPageState({\n                status: 'ready',\n                track,\n                chapter,\n                lesson,\n                missions,\n                termGlossary: content.termGlossary ?? null,\n            });\n        })\n            .catch(() => {\n            if (!isMounted) {\n                return;\n            }\n            setPageState({ status: 'error' });\n        });\n        return () => {\n            isMounted = false;\n        };\n    }, [chapterSlug, lessonSlug, trackSlug]);\n    if (pageState.status === 'loading') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8 \\uB85C\\uB529 \\uC911\")} description={__tx(\"\\uB808\\uC2A8 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\")}/>);\n    }\n    if (pageState.status === 'not-found') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8\\uC744 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC798\\uBABB\\uB41C \\uACBD\\uB85C\\uC774\\uAC70\\uB098 \\uCF58\\uD150\\uCE20\\uAC00 \\uBCC0\\uACBD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <EmptyState title={__tx(\"\\uC720\\uD6A8\\uD55C \\uB808\\uC2A8\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uCEE4\\uB9AC\\uD058\\uB7FC \\uD398\\uC774\\uC9C0\\uC5D0\\uC11C \\uB2E4\\uC2DC \\uC120\\uD0DD\\uD574 \\uC8FC\\uC138\\uC694.\")}/>\n        <div className=\"inline-actions\">\n          <Link className=\"secondary-btn\" to=\"/learn\">\n            커리큘럼으로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    if (pageState.status === 'error') {\n        return (<PagePlaceholder eyebrow=\"Lesson\" title={__tx(\"\\uB808\\uC2A8 \\uB85C\\uB4DC \\uC2E4\\uD328\")} description={__tx(\"\\uCF58\\uD150\\uCE20\\uB97C \\uC77D\\uB294 \\uC911 \\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\")}>\n        <EmptyState title={__tx(\"\\uB808\\uC2A8 \\uC815\\uBCF4\\uB97C \\uC77D\\uC9C0 \\uBABB\\uD588\\uC2B5\\uB2C8\\uB2E4\")} description={__tx(\"\\uC7A0\\uC2DC \\uD6C4 \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574 \\uC8FC\\uC138\\uC694.\")}/>\n      </PagePlaceholder>);\n    }\n    const { track, chapter, lesson, missions, termGlossary } = pageState;\n    const lessonTerms = resolveLessonTerms(lesson, missions, termGlossary ?? null);\n    return (<PagePlaceholder eyebrow=\"Lesson\" title={",
  "&& !nextLesson ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <Link className=\"primary-btn vm-celebration-primary-btn\" to=\"/progress\">\n                    학습 완료 현황 보기\n                  </Link>\n                </section>) : null}\n              <div className=\"inline-actions vm-celebration-actions\">\n                <Link className=\"secondary-btn\" to=\"/progress\">\n                  업적 보기\n                </Link>\n                {celebrationShareHref ? (<a className=\"text-link\" href={celebrationShareHref} target=\"_blank\" rel=\"noreferrer\">\n                    X 챌린지 공유\n                  </a>) : null}\n                <button ref={celebrationCloseButtonRef} type=\"button\" className=\"secondary-btn\" onClick={advanceCelebration}>\n                  닫기 (Esc)\n                </button>\n              </div>\n            </section>\n          </section>) : null}\n\n        <div className=\"vm-mobile-switch\" role=\"tablist\" aria-label={__tx(\"\\uC2E4\\uC2B5 \\uD654\\uBA74 \\uC804\\uD658\")}>\n          <button type=\"button\" className={`secondary-btn ${mobileWorkbenchView ===": "&& !nextLesson ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <Link className=\"primary-btn vm-celebration-primary-btn\" to=\"/progress\">\n                    학습 완료 현황 보기\n                  </Link>\n                </section>) : null}\n              <div className=\"inline-actions vm-celebration-actions\">\n                <Link className=\"secondary-btn\" to=\"/progress\">\n                  업적 보기\n                </Link>\n                {celebrationShareHref ? (<a className=\"text-link\" href={celebrationShareHref} target=\"_blank\" rel=\"noreferrer\">\n                    X 챌린지 공유\n                  </a>) : null}\n                <button ref={celebrationCloseButtonRef} type=\"button\" className=\"secondary-btn\" onClick={advanceCelebration}>\n                  닫기 (Esc)\n                </button>\n              </div>\n            </section>\n          </section>) : null}\n\n        <div className=\"vm-mobile-switch\" role=\"tablist\" aria-label={__tx(\"\\uC2E4\\uC2B5 \\uD654\\uBA74 \\uC804\\uD658\")}>\n          <button type=\"button\" className={`secondary-btn ${mobileWorkbenchView ===",
  "&& item.playbookSlug ? (<Link to={`/playbooks/${item.playbookSlug}`} className=\"secondary-btn\">\n                      플레이북 단계 보기\n                    </Link>) : (<Link to={resolvePracticePath(item)} className=\"secondary-btn\">\n                      실습 워크벤치 열기\n                    </Link>)}\n                </div>\n                {item.command ? <code className=\"playbook-command\">{item.command}</code> : null}\n                {item.shortcut ? <code className=\"playbook-command\">{item.shortcut}</code> : null}\n              </article>))}\n          </div>)}\n      </section>\n\n      <section className=\"reference-section\">\n        <h2>{__tx(\"\\uD575\\uC2EC \\uD50C\\uB808\\uC774\\uBD81\")}</h2>\n        {playbooks.length === 0 ? (<EmptyState title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81 \\uB370\\uC774\\uD130 \\uC5C6\\uC74C\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"reference-playbook-grid\">\n            {playbooks.slice(0, 6).map((playbook) => (<article key={playbook.slug} className=\"reference-playbook-card\">\n                <p className=\"reference-type\">{playbook.category}</p>\n                <h3>{playbook.title}</h3>\n                <p className=\"muted\">\n                  {playbook.estimatedMinutes}분 · 단계 {playbook.steps.length}개\n                </p>\n                <p className=\"muted\">선행: {playbook.prerequisites.join(": "&& item.playbookSlug ? (<Link to={`/playbooks/${item.playbookSlug}`} className=\"secondary-btn\">\n                      플레이북 단계 보기\n                    </Link>) : (<Link to={resolvePracticePath(item)} className=\"secondary-btn\">\n                      실습 워크벤치 열기\n                    </Link>)}\n                </div>\n                {item.command ? <code className=\"playbook-command\">{item.command}</code> : null}\n                {item.shortcut ? <code className=\"playbook-command\">{item.shortcut}</code> : null}\n              </article>))}\n          </div>)}\n      </section>\n\n      <section className=\"reference-section\">\n        <h2>{__tx(\"\\uD575\\uC2EC \\uD50C\\uB808\\uC774\\uBD81\")}</h2>\n        {playbooks.length === 0 ? (<EmptyState title={__tx(\"\\uD50C\\uB808\\uC774\\uBD81 \\uB370\\uC774\\uD130 \\uC5C6\\uC74C\")} description={__tx(\"\\uCF58\\uD150\\uCE20 \\uB85C\\uB4DC\\uB97C \\uD655\\uC778\\uD574 \\uC8FC\\uC138\\uC694.\")}/>) : (<div className=\"reference-playbook-grid\">\n            {playbooks.slice(0, 6).map((playbook) => (<article key={playbook.slug} className=\"reference-playbook-card\">\n                <p className=\"reference-type\">{playbook.category}</p>\n                <h3>{playbook.title}</h3>\n                <p className=\"muted\">\n                  {playbook.estimatedMinutes}분 · 단계 {playbook.steps.length}개\n                </p>\n                <p className=\"muted\">선행: {playbook.prerequisites.join(",
  "&& nextIncompleteMission ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <button type=\"button\" className=\"primary-btn vm-celebration-primary-btn\" onClick={() => {\n                    selectMissionForAction(nextIncompleteMission.slug);\n                    advanceCelebration();\n                }}>\n                    다음 미션 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextIncompleteMission.title}</p>\n                </section>) : null}\n              {celebration.kind ===": "&& nextIncompleteMission ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <button type=\"button\" className=\"primary-btn vm-celebration-primary-btn\" onClick={() => {\n                    selectMissionForAction(nextIncompleteMission.slug);\n                    advanceCelebration();\n                }}>\n                    다음 미션 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextIncompleteMission.title}</p>\n                </section>) : null}\n              {celebration.kind ===",
  "&& nextLesson ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <button type=\"button\" className=\"primary-btn vm-celebration-primary-btn\" onClick={() => {\n                    selectNextLessonForAction();\n                    advanceCelebration();\n                }}>\n                    다음 레슨 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextLesson.title}</p>\n                </section>) : null}\n              {celebration.kind ===": "&& nextLesson ? (<section className=\"vm-celebration-next-action\">\n                  <p className=\"vm-celebration-next-label\">{__tx(\"\\uCD94\\uCC9C \\uB2E4\\uC74C \\uB2E8\\uACC4\")}</p>\n                  <button type=\"button\" className=\"primary-btn vm-celebration-primary-btn\" onClick={() => {\n                    selectNextLessonForAction();\n                    advanceCelebration();\n                }}>\n                    다음 레슨 시작\n                  </button>\n                  <p className=\"muted\">다음: {nextLesson.title}</p>\n                </section>) : null}\n              {celebration.kind ===",
  ">\n                      X 챌린지 공유\n                    </a>) : null}\n                </article>))}\n            </div>\n          </section>\n\n          <section className=": ">\n                      X 챌린지 공유\n                    </a>) : null}\n                </article>))}\n            </div>\n          </section>\n\n          <section className=",
  ">\n                  목표: {pageData.learningPath?.description ?? __tx(": ">\n                  목표: {pageData.learningPath?.description ?? __tx(",
  ">\n                  상세 가이드 보기\n                </Link>\n              </article>))}\n          </div>)}\n        <div className=": ">\n                  상세 가이드 보기\n                </Link>\n              </article>))}\n          </div>)}\n        <div className=",
  ">\n            <li>\n              추천 트랙: <strong>{recommendedTrackTitle}</strong>\n              <p className=": ">\n            <li>\n              추천 트랙: <strong>{recommendedTrackTitle}</strong>\n              <p className=",
  ">\n            <li>미션: {missionSlug}</li>\n            <li>{__tx(": ">\n            <li>미션: {missionSlug}</li>\n            <li>{__tx(",
  ">\n            이 페이지는 Cloudflare 분석에서 온보딩 첫 성공 이벤트 라우트로 사용됩니다.\n          </p>\n        </section>\n      </div>\n\n      <div className=": ">\n            이 페이지는 Cloudflare 분석에서 온보딩 첫 성공 이벤트 라우트로 사용됩니다.\n          </p>\n        </section>\n      </div>\n\n      <div className=",
  ">\n            Progress로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=": ">\n            Progress로 이동\n          </Link>\n        </div>\n      </PagePlaceholder>);\n    }\n    return (<PagePlaceholder eyebrow=",
  ">\n            X에서 공유\n          </a>\n        </div>\n        {copyStatus ? (<p className=": ">\n            X에서 공유\n          </a>\n        </div>\n        {copyStatus ? (<p className=",
  ">\n          <li>닉네임: {effectivePayload.name}</li>\n          <li>레벨: {effectivePayload.level}</li>\n          <li>XP: {effectivePayload.xp}</li>\n          <li>연속 학습일: {streakDays}</li>\n          <li>달성일: {effectivePayload.date}</li>\n        </ul>\n      </div>\n\n      <section className=": ">\n          <li>닉네임: {effectivePayload.name}</li>\n          <li>레벨: {effectivePayload.level}</li>\n          <li>XP: {effectivePayload.xp}</li>\n          <li>연속 학습일: {streakDays}</li>\n          <li>달성일: {effectivePayload.date}</li>\n        </ul>\n      </div>\n\n      <section className=",
  ">\n          오늘 1개 미션 시작\n        </Link>\n        <Link to={`/playbooks/${recommendation.playbookSlug}`} className=": ">\n          오늘 1개 미션 시작\n        </Link>\n        <Link to={`/playbooks/${recommendation.playbookSlug}`} className=",
  ">\n          온보딩 완료 화면으로\n        </Link>\n        <Link to=": ">\n          온보딩 완료 화면으로\n        </Link>\n        <Link to=",
  ">\n          플레이북으로 돌아가기\n        </Link>\n        <Link to=": ">\n          플레이북으로 돌아가기\n        </Link>\n        <Link to=",
  ">{recommendation.trackReason}</p>\n            </li>\n            <li>\n              추천 플레이북: <strong>{recommendedPlaybookTitle}</strong>\n              <p className=": ">{recommendation.trackReason}</p>\n            </li>\n            <li>\n              추천 플레이북: <strong>{recommendedPlaybookTitle}</strong>\n              <p className=",
  "검색 시작": "검색 시작",
  "경로 열기": "경로 열기",
  "경로를 확인하거나 홈으로 이동해 주세요.": "경로를 확인하거나 홈으로 이동해 주세요.",
  "기초 운영 루프": "기초 운영 루프",
  "데이터를 불러오는 중입니다...": "데이터를 불러오는 중입니다...",
  "동의하고 계속": "동의하고 계속",
  "동의하지 않음": "동의하지 않음",
  "레슨, 미션, 명령 제안을 한 화면에서 관리하며 바로 실행합니다.": "레슨, 미션, 명령 제안을 한 화면에서 관리하며 바로 실행합니다.",
  "레퍼런스": "레퍼런스",
  "레퍼런스 허브": "레퍼런스 허브",
  "로드된 레슨이 없습니다": "로드된 레슨이 없습니다",
  "로컬에서 원격 세션 운영으로 확장": "로컬에서 원격 세션 운영으로 확장",
  "메뉴 구성": "메뉴 구성",
  "명령 입력과 즉시 피드백 중심": "명령 입력과 즉시 피드백 중심",
  "명령/단축키/플레이북을 한 메뉴에서 검색하고 바로 실습으로 연결합니다.": "명령/단축키/플레이북을 한 메뉴에서 검색하고 바로 실습으로 연결합니다.",
  "바로 실습 시작": "바로 실습 시작",
  "보조 메뉴입니다. 필요할 때만 XP/트랙 진행률/업적을 확인합니다.": "보조 메뉴입니다. 필요할 때만 XP/트랙 진행률/업적을 확인합니다.",
  "복잡한 선택보다 짧은 실행 루프를 반복": "복잡한 선택보다 짧은 실행 루프를 반복",
  "복잡한 이론보다 반복 가능한 행동 루틴": "복잡한 이론보다 반복 가능한 행동 루틴",
  "본문으로 건너뛰기": "본문으로 건너뛰기",
  "분석 끄기": "분석 끄기",
  "분석 켜기": "분석 켜기",
  "사용성 개선을 위해 Cloudflare Web Analytics를 사용합니다. 동의하면 라우트 기반 이용량이 수집됩니다.": "사용성 개선을 위해 Cloudflare Web Analytics를 사용합니다. 동의하면 라우트 기반 이용량이 수집됩니다.",
  "설명보다 실행을 앞세우고, 첫 레슨부터 운영 루틴까지 하나의 흐름으로 이어지는 실습 중심 구조로 설계했습니다.": "설명보다 실행을 앞세우고, 첫 레슨부터 운영 루틴까지 하나의 흐름으로 이어지는 실습 중심 구조로 설계했습니다.",
  "소스코드:": "소스코드:",
  "시뮬레이터를 먼저 만나고, 필요한 설명은 바로 옆에서 확인": "시뮬레이터를 먼저 만나고, 필요한 설명은 바로 옆에서 확인",
  "실무 전환": "실무 전환",
  "실무에서 자주 부딪히는 상황 중심으로 반복 훈련합니다.": "실무에서 자주 부딪히는 상황 중심으로 반복 훈련합니다.",
  "실습": "실습",
  "실습 시작": "실습 시작",
  "실습 열기": "실습 열기",
  "실습 우선": "실습 우선",
  "실습 워크벤치": "실습 워크벤치",
  "예상치 못한 오류가 발생했습니다.": "예상치 못한 오류가 발생했습니다.",
  "운영 루프 시작": "운영 루프 시작",
  "운영 확장 루프": "운영 확장 루프",
  "진행도": "진행도",
  "진행도(선택) 보기": "진행도(선택) 보기",
  "짧은 루프": "짧은 루프",
  "초급 코어 루틴을 먼저 완성하고, 이후 심화로 확장": "초급 코어 루틴을 먼저 완성하고, 이후 심화로 확장",
  "초급/심화를 나누지 않고, 하나의 통합 실습 경로로 처음부터 운영 루틴까지 이어집니다.": "초급/심화를 나누지 않고, 하나의 통합 실습 경로로 처음부터 운영 루틴까지 이어집니다.",
  "초급부터 심화까지, tmux를 단순하고 실전적으로 익힙니다.": "초급부터 심화까지, tmux를 단순하고 실전적으로 익힙니다.",
  "콘텐츠 파일을 확인해 주세요.": "콘텐츠 파일을 확인해 주세요.",
  "페이지를 렌더링할 수 없습니다": "페이지를 렌더링할 수 없습니다",
  "페이지를 불러오는 중입니다...": "페이지를 불러오는 중입니다...",
  "페이지를 찾을 수 없습니다": "페이지를 찾을 수 없습니다",
  "프로젝트 링크": "프로젝트 링크",
  "하나의 통합 레슨 경로에서 현재 위치를 확인하고 다음 실습을 이어갑니다.": "하나의 통합 레슨 경로에서 현재 위치를 확인하고 다음 실습을 이어갑니다.",
  "학습 경로": "학습 경로",
  "학습 경로 보기": "학습 경로 보기",
  "학습 단계": "학습 단계",
  "학습 핵심 포인트": "학습 핵심 포인트",
  "학습이 끝나면 로컬과 원격 터미널에서 tmux를 자연스럽게 운영하는 개발자가 됩니다.": "학습이 끝나면 로컬과 원격 터미널에서 tmux를 자연스럽게 운영하는 개발자가 됩니다.",
  "핵심 레슨을 짧게 끝내고 바로 실습으로 연결합니다.": "핵심 레슨을 짧게 끝내고 바로 실습으로 연결합니다.",
  "핵심 운영 원칙": "핵심 운영 원칙",
  "홈으로 이동": "홈으로 이동",
  "copy-mode, command-mode, tmux 설정 적용과 원격 운영 루틴으로 확장합니다.": "copy-mode, command-mode, tmux 설정 적용과 원격 운영 루틴으로 확장합니다.",
  "macOS/Homebrew 설치 페이지": "macOS/Homebrew 설치 페이지",
  "onClick={() => {\n            if (!goal) {\n                return;\n            }\n            navigate('/onboarding/preferences');\n        }} disabled={!goal}>\n          입력 선호 설정으로 이동\n        </button>\n        <button type=": "onClick={() => {\n            if (!goal) {\n                return;\n            }\n            navigate('/onboarding/preferences');\n        }} disabled={!goal}>\n          입력 선호 설정으로 이동\n        </button>\n        <button type=",
  "onClick={() => {\n            setPreferences({ prefixKey, keyboardLayout });\n            setSimulatorPrefix(prefixKey);\n            navigate('/onboarding/first-mission');\n        }}>\n          첫 미션 시작\n        </button>\n        <button type=": "onClick={() => {\n            setPreferences({ prefixKey, keyboardLayout });\n            setSimulatorPrefix(prefixKey);\n            navigate('/onboarding/first-mission');\n        }}>\n          첫 미션 시작\n        </button>\n        <button type=",
  "onClick={() => simulateMissionPass(mission)}>\n                        샘플 통과 처리\n                      </button>\n                    </div>\n                  </li>))}\n              </ul>)}\n          </section>\n\n          <section className=": "onClick={() => simulateMissionPass(mission)}>\n                        샘플 통과 처리\n                      </button>\n                    </div>\n                  </li>))}\n              </ul>)}\n          </section>\n\n          <section className=",
  "onClick={handleCheck}>\n              제출하고 채점하기\n            </button>\n            <Link to=": "onClick={handleCheck}>\n              제출하고 채점하기\n            </button>\n            <Link to=",
  "session/window/pane 조작, detach/attach, pane 이동까지 빠르게 체득합니다.": "session/window/pane 조작, detach/attach, pane 이동까지 빠르게 체득합니다.",
  "tmux 공식 저장소 (개요/README)": "tmux 공식 저장소 (개요/README)",
  "tmux 설치 가이드 (공식 위키)": "tmux 설치 가이드 (공식 위키)",
  "tmux 시작 링크": "tmux 시작 링크",
  "tmux 실습 학습": "tmux 실습 학습",
  "tmux Getting Started (공식 위키)": "tmux Getting Started (공식 위키)",
  "tmux는 하나의 터미널에서 여러 작업을 유지/전환하고, 연결이 끊겨도 세션을 복구할 수 있게 해주는 terminal multiplexer입니다. 먼저 공식 개론을 읽고, 본인 OS에 맞는 설치 가이드를 확인한 뒤 실습을 시작하세요.": "tmux는 하나의 터미널에서 여러 작업을 유지/전환하고, 연결이 끊겨도 세션을 복구할 수 있게 해주는 terminal multiplexer입니다. 먼저 공식 개론을 읽고, 본인 OS에 맞는 설치 가이드를 확인한 뒤 실습을 시작하세요.",
  "tmux를 실전 운영 루틴으로 익히는 가장 빠른 학습 플로우": "tmux를 실전 운영 루틴으로 익히는 가장 빠른 학습 플로우",
  "to={`/learn/${lesson.trackSlug}/${lesson.chapterSlug}/${lesson.slug}`}>\n                    <strong>{lesson.title}</strong>\n                    <span>{lesson.estimatedMinutes}분 · 미션 {pageData.missionCounts[lesson.slug] ?? 0}{__tx(": "to={`/learn/${lesson.trackSlug}/${lesson.chapterSlug}/${lesson.slug}`}>\n                    <strong>{lesson.title}</strong>\n                    <span>{lesson.estimatedMinutes}분 · 미션 {pageData.missionCounts[lesson.slug] ?? 0}{__tx(",
  "to={`/practice?lesson=${learningPathEntry.slug}`}>\n                    통합 경로 바로 시작\n                  </Link>) : null}\n                {paneNavigationEntry ? (<Link className=": "to={`/practice?lesson=${learningPathEntry.slug}`}>\n                    통합 경로 바로 시작\n                  </Link>) : null}\n                {paneNavigationEntry ? (<Link className=",
  "to={`/practice?lesson=${learningPathEntry.slug}`}>\n                  처음부터 시작\n                </Link>) : null}\n            </header>\n            <div className=": "to={`/practice?lesson=${learningPathEntry.slug}`}>\n                  처음부터 시작\n                </Link>) : null}\n            </header>\n            <div className=",
  "to={`/practice?lesson=${paneNavigationEntry.slug}`}>\n                    pane 이동부터 시작\n                  </Link>) : null}\n              </div>\n            </section>) : null}\n\n          <section className=": "to={`/practice?lesson=${paneNavigationEntry.slug}`}>\n                    pane 이동부터 시작\n                  </Link>) : null}\n              </div>\n            </section>) : null}\n\n          <section className="
}