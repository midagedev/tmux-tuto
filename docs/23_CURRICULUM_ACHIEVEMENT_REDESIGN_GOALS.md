# 커리큘럼/업적 리디자인 목표 문서 (Draft v0)

## 1. 문서 목적
- tmux 학습 커리큘럼과 업적 체계를 다시 설계할 때의 공통 목표 상태를 정의한다.
- "어떤 레슨을 왜 두는지", "무엇을 통과로 볼지", "어떤 업적이 학습에 실제 도움되는지"를 하나의 기준으로 묶는다.
- 구현 전에 우선순위와 완료 기준(DoD)을 고정해 재작업 비용을 줄인다.

## 2. 현재 상태 진단 (요약)
- 레슨 목표와 미션 통과 조건이 일부 불일치한다.
- 커버리지 매트릭스와 실제 passRules 간 정합성이 깨져 검증 스크립트가 실패한다.
- 업적 수가 많고(특히 반복 카운트형), 학습 가치 대비 의미가 희석된 항목이 있다.
- Progress/업적 상태의 영속성 정책이 명확히 정리되지 않았다.
- E2E 스모크 테스트 일부가 현재 Practice UI/동선과 불일치한다.

## 3. 리디자인 핵심 원칙
- 학습 우선: 업적은 학습 행동을 강화할 때만 남긴다.
- 목표-평가 일치: 레슨 목표와 passRules는 1:1 대응을 기본으로 한다.
- 결정성: 같은 상태/같은 입력이면 항상 같은 채점 결과가 나와야 한다.
- 과금/시간 낭비 방지: 과도한 반복(예: 100회 분할) 기반 업적은 축소한다.
- 확장성: Track/미션을 늘려도 스키마/검증/테스트가 같은 방식으로 유지되어야 한다.
- 재미 보존: 핵심 학습형 업적 외에 누적형/숨은형 업적으로 장기 동기를 유지한다.
- 완료 피드백 명확성: 미션/레슨/업적 완료 순간을 사용자가 즉시 인지할 수 있어야 한다.

## 4. 목표 사용자 상태 (Target Outcome)
- 초급 사용자(처음 tmux 사용)가 1~2주 내 아래를 독립 수행한다.
- 세션 생성/재접속(detach/attach)으로 작업을 복구할 수 있다.
- window/pane 분할/이동/리사이즈로 멀티태스킹 구성을 만들 수 있다.
- copy-mode 검색과 command-mode 실행으로 긴 세션에서도 속도를 유지할 수 있다.
- 로컬/원격 플레이북 루틴을 따라 실제 업무 환경으로 전이할 수 있다.

## 5. 목표 커리큘럼 구조
### 5.1 레벨 구조
- Onramp (3~5분): 첫 성공 경험 1회
- Track A Foundations: 세션/윈도우/패인 기본기 + 복구 루틴
- Track B Workflow: 분할/이동/리사이즈 + 작업 분배
- Track C Deep Work: copy-mode/command-mode + 장애 대응형 루틴

### 5.2 레슨 설계 규칙
- 레슨 1개당 핵심 행동 2~3개로 제한한다.
- 레슨마다 `목표`, `완료 기준`, `실패 시 부족 상태`를 고정 노출한다.
- 미션은 레슨별 2~3개를 권장하고, 마지막 1개는 종합 미션으로 구성한다.

### 5.3 미션 판정 규칙
- passRules는 whitelist 기반으로 관리한다.
- 권장 rule kinds:
  - `sessionCount`, `windowCount`, `paneCount`, `activeWindowIndex`
  - `modeIs`, `searchExecuted`, `searchMatchFound`
  - `shellHistoryText`, `actionHistoryText`
  - `windowZoomed`, `paneSynchronized`, `windowLayout`
- 각 미션의 `requiredRuleKinds`와 `passRules`는 CI에서 강제 일치한다.

## 6. 업적 체계 리디자인 목표
### 6.1 업적 카테고리
- Course: 학습 경로 이수 기반
- Skill: 핵심 조작 숙련 기반
- Consistency: 반복 학습/스트릭 기반
- Fun: 누적횟수/조금 이상한(quirky) 플레이 기반

### 6.2 업적 수량 목표
- 총 12~18개로 재구성
- 기준:
  - 신규 사용자가 의미를 이해하기 쉬울 것
  - 1개 업적이 1개 학습 습관을 강화할 것
  - 핵심 학습형과 재미형의 균형을 유지할 것

### 6.3 구성 비율 가이드
- Core 업적(학습 필수): 60~70%
- Fun 업적(누적/숨은/quirky): 30~40%
- Fun 업적도 최소 1개 이상의 실제 tmux 행동 개선과 연결한다.

### 6.4 유지 후보
- 첫 미션 완료
- Track A/B/C 완료
- 전체 커리큘럼 완주
- 7일 스트릭
- 첫 분할, 첫 윈도우, 첫 세션, copy-mode 입문, command-prompt/choose-tree 입문

### 6.5 Fun 업적 설계 가이드
- 누적형 티어는 2~3단계만 둔다. 예: split 10/30/100
- 숨은 업적은 조건 설명을 부분 공개해 탐색 재미를 유지한다.
- 기괴한 조건이라도 재현 가능하고 판정 가능한 조건만 채택한다.
- 동일 행동 반복만 강요하는 순수 grind 업적은 지양한다.

### 6.6 Fun 업적 예시 후보
- Pane 러너: pane split 누적 30회
- Pane 백장: pane split 누적 100회
- 야간 복구자: 늦은 시간대에 detach/attach 복구 성공
- 무중단 스위처: window 순환/패인 이동을 일정 횟수 이상 연속 성공
- 숨은 트릭스터: choose-tree + command-prompt 조합 실행

## 7. 데이터/구현 목표
- 콘텐츠 단일 진실원: `content.json` + `coverage-matrix.json` 정합성 100%
- 업적 단일 진실원: `achievementCatalog`와 evaluator 조건의 자동 검증 추가
- 진행도 영속성 명확화:
  - 새로고침/재방문 후 XP/레벨/스트릭/업적이 일관되게 복원될 것
- 마일스톤 정의 정교화:
  - `first-chapter-complete`는 실제 "첫 챕터 완료" 조건으로 엄격화

## 8. QA/테스트 목표
- Unit:
  - rule kind별 채점 테스트
  - 업적 evaluator idempotency 테스트
  - 스트릭 날짜 경계(로컬 타임존) 테스트
- Integration:
  - content-schema + coverage-matrix 교차 검증
  - 업적 계산과 Progress UI 렌더 일치 검증
- E2E:
  - `/learn -> /practice -> /progress -> /share` 핵심 경로 스모크
  - 현재 VM 기반 Practice UI에 맞춘 셀렉터/시나리오로 전면 정리
  - 업적/레슨 완료 시 피드백 UI 노출, CTA 동작, dismiss 동작 검증

## 9. 완료 피드백 UX 목표
- 미션 완료, 레슨 완료, 업적 해금의 상태를 시각적으로 구분한다.
- 완료 카드/모달은 아래를 기본 제공한다.
  - 무엇을 달성했는지 (제목)
  - 왜 달성됐는지 (조건 요약)
  - 다음 행동 CTA (다음 미션/다음 레슨/진행도 보기)
  - 공유 CTA (선택)
- 동시에 여러 업적이 해금되면 누락 없이 순차 노출(큐)한다.
- 모바일에서도 완료 UI가 가려지지 않도록 레이아웃 우선순위를 둔다.
- 접근성:
  - `aria-live`로 완료 상태를 읽어준다.
  - 키보드만으로 CTA 이동/닫기가 가능해야 한다.

## 10. 완료 기준 (Definition of Done)
- 레슨 목표와 passRules 불일치 0건
- `verify:coverage-matrix` 상시 통과
- 핵심 업적 100% 재현 가능한 E2E 시나리오 확보
- 새로고침/재접속 후 진행도 복원 검증 통과
- Progress/Share의 마일스톤 문구와 실제 해금 조건 불일치 0건
- 완료 피드백 UI가 미션/레슨/업적 3종 모두에서 명확히 노출되고 E2E로 검증됨

## 11. 실행 단계 제안 (초기)
1. 정보구조 확정
- Track/Lesson/Mission 재배치안 확정
- 업적 목록 1차 축소안 확정

2. 콘텐츠/규칙 정합화
- 레슨 목표 ↔ 미션 passRules 매핑 재작성
- coverage-matrix 동기화

3. 업적 evaluator 재구성
- 업적 통합/삭제 반영
- 마일스톤 조건 재정의

4. 테스트/게이트 업데이트
- 스모크 테스트를 VM Practice 기준으로 교체
- CI 게이트(coverage, e2e) 통과 기준 복구

## 12. 당장 다음 액션 (실행 우선순위)
- `A1` 커리큘럼 재설계 시트 작성 (레슨별 목표/미션/룰 kind 1:1 맵)
- `A2` 업적 목록 정리안 v1 (유지/통합/삭제 표)
- `A3` 마일스톤 조건 재정의안 (Progress/Share 문구 포함)
- `A4` 완료 피드백 UI 요구사항 시트 작성 (상태별 컴포넌트, CTA, 접근성)
- `A5` 테스트 갱신 범위 확정 (깨진 스모크 기준선 재설정 + 완료 UI 검증 추가)

---
- 작성일: 2026-02-18
- 상태: Draft v0 (리디자인 착수 기준 문서)
